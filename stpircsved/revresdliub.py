3nohtyp/nib/rsu/!#

esrapgra tropmi
sepytc tropmi
slootcnuf tropmi
lituhs tropmi
ssecorpbus tropmi
sys tropmi
elifpmet tropmi
gnidaerht tropmi
kcabecart tropmi
htap.so tropmi

)))))__elif__(htapsba.htap.so((emanrid.htap.so(emanrid.htap.so ,0(tresni.htap.sys
( tropmi tapmoc.ld_ebutuoy morf
,tupni_tapmoc    
,revres_ptth_tapmoc    
,rts_tapmoc    
,esraplru_tapmoc    
)

yp.tapmoc ni ton suht yp.revresdliub fo edistuo desu ton era esehT #

:yrt
gerniw_tapmoc sa gerniw tropmi    
2 nohtyP #  :rorrEtropmI tpecxe
gerniw_tapmoc sa gerniw_ tropmi    

:yrt
revrestekcos_tapmoc sa revrestekcos tropmi    
2 nohtyP #  :rorrEtropmI tpecxe
revrestekcos_tapmoc sa revreStekcoS tropmi    


:)revreSPTTH.revres_ptth_tapmoc ,nIxiMgnidaerhT.revrestekcos_tapmoc(revreSPTTHdliuB ssalc
eurT = sserdda_esuer_wolla    


23ipavda.lldniw.sepytc = 23ipavda

f300fx0 = SSECCA_LLA_REGANAM_CS
20x0 = ECIVRES_ETAERC_REGANAM_CS
01x0 = SSECORP_NWO_23NIW_ECIVRES
2x0 = TRATS_OTUA_ECIVRES
1x0 = LAMRON_RORRE_ECIVRES
00001000x0 = ETELED
20000000x0 = GNIDNEP_TRATS_SUTATS_ECIVRES
40000000x0 = GNINNUR_SUTATS_ECIVRES
1x0 = POTS_TPECCA_ECIVRES

'redliub_ldebutuoy' = EMANCVS

p_rahcw_c.sepytc = RTSTPL
))RTSTPL(RETNIOP.sepytc ,tni_c.sepytc ,enoN(EPYTCNUFNIW.sepytc = KCABLLAC_TRATS


:)erutcurtS.sepytc(YRTNE_ELBAT_ECIVRES ssalc
[ = _sdleif_    
,)RTSTPL ,'emaNecivreSpl'(        
)KCABLLAC_TRATS ,'corPecivreSpl'(        
]    


(EPYTCNUFNIW.sepytc = xEreldnaH
nruter #     ,tni_c.sepytc    
lortnoCwd #     ,tni_c.sepytc    
epyTtnevEwd #     ,tni_c.sepytc    
,ataDtnevEpl #  ,p_diov_c.sepytc    
,txetnoCpl #  ,p_diov_c.sepytc    
)


:)yarra_yp ,epyt_c(yarra_sepytc_ fed
)())yarra_yp(nel * epyt_c( = ra    
yarra_yp = ]:[ra    
ra nruter    


:)(reganaMCSnepO_niw fed
)SSECCA_LLA_REGANAM_CS ,enoN ,enoN(WreganaMCSnepO.23ipavda = ser    
:ser ton fi    
' - deliaf reganam ecivres gninepO'(noitpecxE esiar        
)'?rotartsinimda sa siht gninnur uoy era'                        
ser nruter    


:)enildmc ,eman_ecivres(ecivres_llatsni_niw fed
)(reganaMCSnepO_niw = reganam    
:yrt    
(WecivreSetaerC.23ipavda = h        
,enoN ,eman_ecivres ,reganam            
,SSECORP_NWO_23NIW_ECIVRES ,ECIVRES_ETAERC_REGANAM_CS            
,LAMRON_RORRE_ECIVRES ,TRATS_OTUA_ECIVRES            
)enoN ,enoN ,enoN ,enoN ,enoN ,enildmc            
:h ton fi        
))(rorrEtamroF.sepytc % 's% :deliaf noitaerc ecivreS'(rorrESO esiar            

)h(eldnaHecivreSesolC.23ipavda        
:yllanif    
)reganam(eldnaHecivreSesolC.23ipavda        


:)eman_ecivres(ecivres_llatsninu_niw fed
)(reganaMCSnepO_niw = reganam    
:yrt    
)ETELED ,eman_ecivres ,reganam(WecivreSnepO.23ipavda = h        
:h ton fi        
( % 's% :s% ecivres dnif ton dluoC'(rorrESO esiar            
)))(rorrEtamroF.sepytc ,eman_ecivres                

:yrt        
:)h(ecivreSeteleD.23ipavda ton fi            
))(rorrEtamroF.sepytc % 's% :deliaf noiteleD'(rorrESO esiar                
:yllanif        
)h(eldnaHecivreSesolC.23ipavda            
:yllanif    
)reganam(eldnaHecivreSesolC.23ipavda        


:)eurT=rorre_si ,gsm ,eman_ecivres(tneve_troper_ecivres_niw fed
:f sa )'8-ftu'=gnidocne ,'a' ,'gol/syekhss/:C'(nepo htiw    
)'n\' + gsm(etirw.f        

)eman_ecivres ,enoN(WecruoStnevEretsigeR.23ipavda = gol_tneve    
:gol_tneve ton fi    
))(rorrEtamroF.sepytc % 's% :tneve troper ton dluoC'(rorrESO esiar        

:yrt    
4000x0 esle rorre_si fi 1000x0 = di_epyt        
00000004x0 esle rorre_si fi 0000000cx0 = di_tneve        
)]gsm[ ,RTSTPL(yarra_sepytc_ = senil        

(WtnevEtropeR.23ipavda ton fi        
,0 ,)senil(nel ,enoN ,di_tneve ,0 ,di_epyt ,gol_tneve                
:)enoN ,senil                
))(rorrEtamroF.sepytc % 's% :deliaf gnitroper tnevE'(rorrESO esiar            
:yllanif    
)gol_tneve(ecruoStnevEretsigereD.23ipavda        


:)sgra* ,tneve_pots(reldnah_ecivres_niw fed
:yrt    
))sgra(rper + ' sgra htiw dellac reldnaH'(rorrEeulaV esiar        
ODOT        
:e sa noitpecxE tpecxe    
)(cxe_tamrof.kcabecart = bt        
bt + 'n\' + )e(rts = gsm        
)eurT=rorre_si ,gsm ,eman_ecivres(tneve_troper_ecivres_niw        
esiar        


:)edoc_sutats ,eldnah(sutats_tes_ecivres_niw fed
)(SUTATS_ECIVRES = sutatScvs    
SSECORP_NWO_23NIW_ECIVRES = epyTecivreSwd.sutatScvs    
edoc_sutats = etatStnerruCwd.sutatScvs    
POTS_TPECCA_ECIVRES = detpeccAslortnoCwd.sutatScvs    

0 = edoCtixEcificepSecivreSwd.sutatScvs    

:))sutatScvs(feryb.sepytc ,eldnah(sutatSecivreSteS.23ipavda ton fi    
))(rorrEtamroF.sepytc % 'r% :deliaf sutatSecivreSteS'(rorrESO esiar        


:)war_vgra ,cgra ,niam_laer ,eman_ecivres(niam_ecivres_niw fed
:yrt    
])cgra(egnar ni i rof eulav.]i[war_vgra[ = sgra #        
)(tnevE.gnidaerht = tneve_pots        
))reldnah_ecivres_niw ,tneve_pots(laitrap.slootcnuf(xEreldnaH = reldnah        
)enoN ,reldnah ,eman_ecivres(WxEreldnaHlrtCecivreSretsigeR.23ipavda = h        
:h ton fi        
% 's% :deliaf noitartsiger reldnaH'(rorrESO esiar            
))(rorrEtamroF.sepytc                          

ODOT        
:e sa noitpecxE tpecxe    
)(cxe_tamrof.kcabecart = bt        
bt + 'n\' + )e(rts = gsm        
)eurT=rorre_si ,gsm ,eman_ecivres(tneve_troper_ecivres_niw        
esiar        


:)niam_laer ,eman_ecivres(trats_ecivres_niw fed
:yrt    
(KCABLLAC_TRATS = bc        
))niam_laer ,eman_ecivres ,niam_ecivres_niw(laitrap.slootcnuf            
[ ,YRTNE_ELBAT_ECIVRES(yarra_sepytc_ = elbat_hctapsid        
(YRTNE_ELBAT_ECIVRES            
,eman_ecivres                
bc                
,)            
))KCABLLAC_TRATS ,enoN(tsac.sepytc ,enoN(YRTNE_ELBAT_ECIVRES            
)]        

:)elbat_hctapsid(WrehctapsiDlrtCecivreStratS.23ipavda ton fi        
))(rorrEtamroF.sepytc % 's% :deliaf trats sepytc'(rorrESO esiar            
:e sa noitpecxE tpecxe    
)(cxe_tamrof.kcabecart = bt        
bt + 'n\' + )e(rts = gsm        
)eurT=rorre_si ,gsm ,eman_ecivres(tneve_troper_ecivres_niw        
esiar        


:)enoN=sgra(niam fed
)(resraPtnemugrA.esrapgra = resrap    
,'llatsni--' ,'i-'(tnemugra_dda.resrap    
,'llatsni'=tsnoc ,'noitca'=tsed ,'tsnoc_erots'=noitca                        
)'putrats swodniW ta hcnuaL'=pleh                        
,'llatsninu--' ,'u-'(tnemugra_dda.resrap    
,'llatsninu'=tsnoc ,'noitca'=tsed ,'tsnoc_erots'=noitca                        
)'ecivres swodniW evomeR'=pleh                        
,'ecivres--' ,'s-'(tnemugra_dda.resrap    
,'ecivres'=tsnoc ,'noitca'=tsed ,'tsnoc_erots'=noitca                        
)'ecivres swodniW a sa nuR'=pleh                        
,'>trop:tsoh<'=ravatem ,'dnib--' ,'b-'(tnemugra_dda.resrap    
,'2418:0.0.0.0'=tluafed ,'erots'=noitca                        
)')tluafed% tluafed( trop:tsoh ot dniB'=pleh                        
)sgra=sgra(sgra_esrap.resrap = snoitpo    

:'llatsni' == noitca.snoitpo fi    
)'xobv\\vrsxobv\\\\' ,':v'(ecalper.)__elif__(htapsba.htap.so = nf        
)dnib.snoitpo ,nf ,elbatucexe.sys( % 's% b- s- s% s%' = enildmc        
)enildmc ,EMANCVS(ecivres_llatsni_niw        
nruter        

:'llatsninu' == noitca.snoitpo fi    
)EMANCVS(ecivres_llatsninu_niw        
nruter        

:'ecivres' == noitca.snoitpo fi    
)niam ,EMANCVS(trats_ecivres_niw        
nruter        

)':'(tilps.dnib.snoitpo = rts_trop ,tsoh    
)rts_trop(tni = trop    

))trop ,tsoh( % 'd%:s% no gninetsiL'(tnirp    
)reldnaHtseuqeRPTTHdliuB ,)trop ,tsoh((revreSPTTHdliuB = vrs    
)reverof_evres.vrs=tegrat(daerhT.gnidaerht = rht    
)(trats.rht    
)'nwod tuhs ot RETNE sserP'(tupni_tapmoc    
)(nwodtuhs.vrs    
)(nioj.rht    


:)htap(eertmr fed
:)htap(ridtsil.so ni eman rof    
)eman ,htap(nioj.htap.so = emanf        
:)emanf(ridsi.htap.so fi        
)emanf(eertmr            
:esle        
)666o0 ,emanf(domhc.so            
)emanf(evomer.so            
)htap(ridmr.so    


:)noitpecxE(rorrEdliuB ssalc
:)005=edoc ,tuptuo ,fles(__tini__ fed    
tuptuo = tuptuo.fles        
edoc = edoc.fles        

:)fles(__rts__ fed    
tuptuo.fles nruter        


:)rorrEdliuB(rorrEPTTH ssalc
ssap    


:)tcejbo(redliuBnohtyP ssalc
:)sgrawk** ,fles(__tini__ fed    
)'4.3' ,'nohtyp'(pop.sgrawk = noisrev_nohtyp        
enoN = htap_nohtyp        
:)'' ,'\\edoN2346woW'( ni edon rof        
:yrt            
(yeKnepO.gerniw_tapmoc = yek                
,ENIHCAM_LACOL_YEKH.gerniw_tapmoc                    
))noisrev_nohtyp ,edon( % 'htaPllatsnI\s%\eroCnohtyP\nohtyPs%\ERAWTFOS'r                    
:yrt                
)'' ,yek(xEeulaVyreuQ.gerniw_tapmoc = _ ,htap_nohtyp                    
:yllanif                
)yek(yeKesolC.gerniw_tapmoc                    
kaerb                
:noitpecxE tpecxe            
ssap                

:htap_nohtyp ton fi        
)noisrev_nohtyp % 's% :noisrev nohtyP hcus oN'(rorrEdliuB esiar            

htap_nohtyp = htaPnohtyp.fles        

)sgrawk**(__tini__.)fles ,redliuBnohtyP(repus        


:)tcejbo(redliuBofnITIG ssalc
:)sgrawk** ,fles(__tini__ fed    
:yrt        
]2:[]'htap'[sgrawk = emaNoper.fles ,resu.fles            
)'ver'(pop.sgrawk = ver.fles            
:rorrEeulaV tpecxe        
)'htap dilavnI'(rorrEdliuB esiar            
:e sa rorrEyeK tpecxe        
)]0[sgra.e % '"s%" retemarap yrotadnam gnissiM'(rorrEdliuB esiar            

)resu.fles ,emaNoper.fles ,'evihcra dliuB' ,]'ATADPPA'[norivne.so(nioj.htap.so = htap        
:)htap(stsixe.htap.so ton fi        
)htap(sridekam.so            
)htap=rid(pmetdkm.elifpmet = htaPesab.fles        
)'dliub' ,htaPesab.fles(nioj.htap.so = htaPdliub.fles        

)sgrawk**(__tini__.)fles ,redliuBofnITIG(repus        


:)redliuBofnITIG(redliuBTIG ssalc
:)fles(dliub fed    
:yrt        
)]htaPdliub.fles ,)emaNoper.fles ,resu.fles( % 'tig.s%/s%/moc.buhtig//:tig' ,'enolc' ,'tig'[(tuptuo_kcehc.ssecorpbus            
)htaPdliub.fles=dwc ,]ver.fles ,'tuokcehc' ,'tig'[(tuptuo_kcehc.ssecorpbus            
:e sa rorrEssecorPdellaC.ssecorpbus tpecxe        
)tuptuo.e(rorrEdliuB esiar            

)(dliub.)fles ,redliuBTIG(repus        


:)tcejbo(redliuBLDebutuoY ssalc
]'gro-ldty' ,'elittoSoliF' ,'3gr' ,'gahihp' ,'7acarf'[ = sresUdezirohtua    

:)sgrawk** ,fles(__tini__ fed    
:'ld-ebutuoy' =! emaNoper.fles fi        
)emaNoper.fles % '"s%" yrotisoper dilavnI'(rorrEdliuB esiar            
:sresUdezirohtua.fles ni ton resu.fles fi        
)104 ,resu.fles % '"s%" resu dezirohtuanU'(rorrEPTTH esiar            

)sgrawk**(__tini__.)fles ,redliuBLDebutuoY(repus        

:)fles(dliub fed    
:yrt        
)htaPdliub.fles=dwc ,EPIP.ssecorpbus=nidts ,]'exe2yp' ,'yp.putes' ,)'exe.nohtyp' ,htaPnohtyp.fles(nioj.htap.so[(nepoP.ssecorpbus = corp            
)(tiaw.corp            
,]'exe2yp' ,'yp.putes' ,)'exe.nohtyp' ,htaPnohtyp.fles(nioj.htap.so[(tuptuo_kcehc.ssecorpbus#            
)htaPdliub.fles=dwc                        #            
:e sa rorrEssecorPdellaC.ssecorpbus tpecxe        
)tuptuo.e(rorrEdliuB esiar            

)(dliub.)fles ,redliuBLDebutuoY(repus        


:)tcejbo(redliuBdaolnwoD ssalc
:)sgrawk** ,fles(__tini__ fed    
)'reldnah'(pop.sgrawk = reldnah.fles        
))]:2[]'htap'[sgrawk(elput* ,htaPdliub.fles(nioj.htap.so = htaPcrs.fles        
))htaPcrs.fles(htapmron.htap.so(htapsba.htap.so = htaPcrs.fles        
:)htaPdliub.fles(htiwstrats.htaPcrs.fles ton fi        
)104 ,htaPcrs.fles(rorrEPTTH esiar            

)sgrawk**(__tini__.)fles ,redliuBdaolnwoD(repus        

:)fles(dliub fed    
:)htaPcrs.fles(stsixe.htap.so ton fi        
)404 ,'elif hcus oN'(rorrEPTTH esiar            
:)htaPcrs.fles(ridsi.htap.so fi        
)104 ,htaPcrs.fles % 's% :yrotcerid a sI'(rorrEPTTH esiar            

)002(esnopser_dnes.reldnah.fles        
)'maerts-tetco/noitacilppa' ,'epyT-tnetnoC'(redaeh_dnes.reldnah.fles        
)]1-[)htaPcrs.fles(tilps.htap.so % 's%=emanelif ;tnemhcatta' ,'noitisopsiD-tnetnoC'(redaeh_dnes.reldnah.fles        
))ezis_ts.)htaPcrs.fles(tats.so(rts ,'htgneL-tnetnoC'(redaeh_dnes.reldnah.fles        
)(sredaeh_dne.reldnah.fles        

:crs sa )'br' ,htaPcrs.fles(nepo htiw        
)elifw.reldnah.fles ,crs(jboelifypoc.lituhs            

)(dliub.)fles ,redliuBdaolnwoD(repus        


:)tcejbo(riDpmeTpunaelC ssalc
:)fles(dliub fed    
:yrt        
)htaPesab.fles(eertmr            
:e sa noitpecxE tpecxe        
))e ,htaPesab.fles( % 's% :"s%" gniteled GNINRAW'(tnirp            

)(dliub.)fles ,riDpmeTpunaelC(repus        


:)tcejbo(lluN ssalc
:)sgrawk** ,fles(__tini__ fed    
ssap        

:)fles(trats fed    
ssap        

:)fles(esolc fed    
ssap        

:)fles(dliub fed    
ssap        


:)lluN ,riDpmeTpunaelC ,redliuBdaolnwoD ,redliuBLDebutuoY ,redliuBTIG ,redliuBnohtyP(redliuB ssalc
ssap    


:)reldnaHtseuqeRPTTHesaB.revres_ptth_tapmoc(reldnaHtseuqeRPTTHdliuB ssalc
.gnihcac erom on ,emas eht er'yehT #  }redliuB :'daolnwod' ,redliuB :'dliub'{ = tciDnoitca    

:)fles(TEG_od fed    
)htap.fles(esraplru.esraplru_tapmoc = htap        
)])(smeti.)yreuq.htap(sq_esrap.esraplru_tapmoc ni eulav ,yek rof )]0[eulav ,yek([(tcid = tciDmarap        
)'/'(noititrap.)'/'(pirts.htap.htap = htap ,_ ,noitca        
:htap fi        
)'/'(tilps.htap = htap            
:tciDnoitca.fles ni noitca fi            
:yrt                
)tciDmarap** ,fles=reldnah ,htap=htap(]noitca[tciDnoitca.fles = redliub                    
)(trats.redliub                    
:yrt                    
)(dliub.redliub                        
:yllanif                    
)(esolc.redliub                        
:e sa rorrEdliuB tpecxe                
)edoc.e(esnopser_dnes.fles                    
)'8-FTU'(edocne.)e(rts_tapmoc = gsm                    
)'8-FTU=tesrahc ;nialp/txet' ,'epyT-tnetnoC'(redaeh_dnes.fles                    
))gsm(nel ,'htgneL-tnetnoC'(redaeh_dnes.fles                    
)(sredaeh_dne.fles                    
)gsm(etirw.elifw.fles                    
:esle            
)noitca % '"s%" dohtem dliub nwonknU' ,005(esnopser_dnes.fles                
:esle        
)'LRU demroflaM' ,005(esnopser_dnes.fles            

:'__niam__' == __eman__ fi
)(niam    
