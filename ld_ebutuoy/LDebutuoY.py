


nohtyp vne/nib/rsu/!#
8-ftu :gnidoc #

slaretil_edocinu ,tropmi_etulosba tropmi __erutuf__ morf

snoitcelloc tropmi
biltxetnoc tropmi
ypoc tropmi
emitetad tropmi
onrre tropmi
tupnielif tropmi
oi tropmi
slootreti tropmi
nosj tropmi
elacol tropmi
rotarepo tropmi
so tropmi
mroftalp tropmi
er tropmi
lituhs tropmi
ssecorpbus tropmi
tekcos tropmi
sys tropmi
emit tropmi
ezinekot tropmi
kcabecart tropmi
modnar tropmi

srettel_iicsa tropmi gnirts morf

( tropmi tapmoc. morf
,gnirtsesab_tapmoc    
,rajeikooc_tapmoc    
,ezis_lanimret_teg_tapmoc    
,tneilc_ptth_tapmoc    
,sgrawk_tapmoc    
,sepyt_ciremun_tapmoc    
,eman_so_tapmoc    
,rts_tapmoc    
,ezinekot_ezinekot_tapmoc    
,rorre_billru_tapmoc    
,tseuqer_billru_tapmoc    
,reldnaHataD_tseuqer_billru_tapmoc    
)
( tropmi slitu. morf
,detcirtser_ega    
,rts_ot_sgra    
,rorrEtrohSooTtnetnoC    
,rts_morf_etad    
,egnaRetaD    
,LPMTTUO_TLUAFED    
,txe_enimreted    
,locotorp_enimreted    
,rorrEdaolnwoD    
,rts_tapmoc_edocne    
,emaneliFedocne    
,rts_tapmoc_ot_rorre    
,htap_dnapxe    
,rorrErotcartxE    
,setyb_tamrof    
,sdnoceStamrof    
,rorrEdetcirtseRoeG    
,enon_ro_tni    
,slitU6613OSI    
,elif_dekcol    
,reldnah_SPTTH_ekam    
,dehcaeRsdaolnwoDxaM    
,teSderedro    
,tsiLdegaP    
,eziselif_esrap    
,reldnaHyxorPtseuqeRreP    
,eman_mroftalp    
,rorrEgnissecorPtsoP    
,gnidocnederreferp    
,noisnetxe_dneperp    
,slocotorp_skcos_retsiger    
,elbat_redner    
,noisnetxe_ecalper    
,rorrEeliFemaS    
,emanelif_ezitinas    
,htap_ezitinas    
,lru_ezitinas    
,tseuqeR_dezitinas    
,sredaeh_dts    
,enon_ro_rts    
,emanelif_seltitbus    
,rorrEoediVelbaliavanU    
,emanesab_lru    
,elput_noisrev    
,elif_nosj_etirw    
,gnirts_etirw    
,raJeikooCLDebutuoY    
,rossecorPeikooCLDebutuoY    
,reldnaHLDebutuoY    
,reldnaHtcerideRLDebutuoY    
)
ehcaC tropmi ehcac. morf
REDAOL_YZAL_ ,sessalc_rotcartxe_neg ,rotcartxe_ofni_teg tropmi rotcartxe. morf
repparwSJmotnahP tropmi daolnepo.rotcartxe. morf
redaolnwod_elbatius_teg tropmi redaolnwod. morf
noisrev_pmudpmtr tropmi pmtr.redaolnwod. morf
( tropmi rossecorptsop. morf
,PP8u3MpuxiFgepmFF    
,PPa4MpuxiFgepmFF    
,PPdehctertSpuxiFgepmFF    
,PPregreMgepmFF    
,rossecorPtsoPgepmFF    
,rossecorptsop_teg    
)
__noisrev__ tropmi noisrev. morf

:'tn' == eman_so_tapmoc fi
sepytc tropmi    


:)tcejbo(LDebutuoY ssalc
.ssalc LDebutuoY"""    

eht gnidaolnwod fo elbisnopser seno eht era stcejbo LDebutuoY    
detseuqer sah resu eht fi ksid ot ti gnitirw dna elif oediv lautca    
rep eno eb dluohs ereht sesac tsom nI .sksat rehto emos gnoma ,ti    
ot woh wonk t'nseod redaolnwod eht ,LRU oediv a nevig ,sA .margorp    
ti ,od srotcartxEofnI taht ksat ,noitamrofni dedeen eht lla tcartxe    
.meht fo eno ot LRU eht ssap ot sah    

swolla taht dohtem a evah stcejbo LDebutuoY ,siht roF    
dessap si ti nehW .redro nevig a ni deretsiger eb ot srotcartxEofnI    
ti rotcartxEofnI tsrif eht ot ti seldnah tcejbo LDebutuoY eht ,LRU a    
stcartxe rotcartxEofnI ehT .ti eldnah ot elba gnieb stroper taht sdnif    
dna ,ot srefer LRU eht soediv ro oediv eht tuoba noitamrofni eht lla    
eliF a gnisu ylbissop ,noitamrofni detcartxe eht ssecorp LDebutuoY    
.oediv eht daolnwod ot redaolnwoD    

etarutas ot ton redro nI .sretemarap fo tol a tpecca stcejbo LDebutuoY    
fo yranoitcid a seviecer ti ,stnemugra htiw rotcurtsnoc tcejbo eht    
smarap eht hguorht elbaliava era snoitpo esehT .daetsni snoitpo    
osla LDebutuoY ehT .esu ot srotcartxEofnI eht rof etubirtta    
srotcartxEofnI eht rof egrahc ni redaolnwod eht sa flesti sretsiger    
."noitartsiger lautum" a si siht os ,ti ot dedda era taht    

:snoitpo elbaliavA    

.sesoprup noitacitnehtua rof emanresU          :emanresu    
.sesoprup noitacitnehtua rof drowssaP          :drowssap    
.oediv a gnissecca rof drowssaP     :drowssapoediv    
.reifitnedi rotarepo metsys-elpitlum ssaP ebodA            :osm_pa    
.emanresu tnuocca rotarepo metsys-elpitluM       :emanresu_pa    
.drowssap tnuocca rotarepo metsys-elpitluM       :drowssap_pa    
.daetsni noitacitnehtua rof crten esU          :crtenesu    
.tuodts ot ofni lanoitidda tnirP           :esobrev    
.tuodts ot segassem tnirp ton oD             :teiuq    
.sgninraw rof gnihtyna tuo tnirp ton oD       :sgninraw_on    
.LRU lanif gnitnirp ecroF          :lruecrof    
.eltit gnitnirp ecroF        :eltitecrof    
.DI gnitnirp ecroF           :diecrof    
.LRU lianbmuht gnitnirp ecroF    :lianbmuhtecrof    
.noitpircsed gnitnirp ecroF  :noitpircsedecrof    
.emanelif lanif gnitnirp ecroF     :emanelifecrof    
.noitarud gnitnirp ecroF     :noitarudecrof    
.NOSJ sa tcid_ofni gnitnirp ecroF         :nosjecrof    
tsilyalp elohw eht fo tcid_ofni eht gnitnirp ecroF  :nosj_elgnis_pmud    
.enil NOSJ elgnis a sa )oediv ro(                       
.selif oediv eht daolnwod ton oD          :etalumis    
.noitamrofni erom rof yp.snoitpo eeS .edoc tamrof oediV            :tamrof    
.seman tuptuo rof etalpmeT           :lpmttuo    
seman elif ni secaps dna "&" wolla ton oD :semaneliftcirtser    
.srorre daolnwod no pots ton oD      :srorreerongi    
rotcartxe cireneg eht esu ot redaolnwod ecroF :rotcartxe_cireneg_ecrof    
.selif gnitirwrevo tneverP      :setirwrevoon    
.ta trats ot meti tsilyalP     :tratstsilyalp    
.ta dne ot meti tsilyalP       :dnetsilyalp    
.daolnwod ot tsilyalp fo secidni cificepS    :smeti_tsilyalp    
.redro esrever ni smeti tsilyalp daolnwoD   :esrevertsilyalp    
.redro modnar ni smeti tsilyalp daolnwoD    :modnartsilyalp    
.seltit gnihctam ylno daolnwoD        :eltithctam    
.seltit gnihctam rof sdaolnwod tcejeR       :eltittcejer    
.ecnatsni reggoL.gniggol a ot segassem goL            :reggol    
.tuodts fo daetsni rredts ot segassem goL       :rredtsotgol    
elif noitpircsed. a ot noitpircsed oediv eht etirW  :noitpircsedetirw    
elif nosj.ofni. a ot noitpircsed oediv eht etirW     :nosjofnietirw    
elif lmx.snoitatonna. a ot snoitatonna oediv eht etirW  :snoitatonnaetirw    
elif a ot egami lianbmuht eht etirW    :lianbmuhtetirw    
selif ot stamrof lianbmuht lla etirW  :slianbmuht_lla_etirw    
elif a ot seltitbus oediv eht etirW    :seltitbusetirw    
elif a ot seltitbus detareneg yllacitamotua eht etirW :buscitamotuaetirw    
oediv eht fo seltitbus eht lla sdaolnwoD      :seltitbuslla    
)buscitamotuaetirw ro seltitbusetirw seriuqer(                       
oediv eht rof seltitbus elbaliava lla stsiL     :seltitbustsil    
seltitbus rof edoc tamrof ehT   :tamrofseltitbus    
daolnwod ot seltitbus eht fo segaugnal fo tsiL    :sgnalseltitbus    
gnissecorp-tsop retfa elif oediv eht peeK         :oedivpeek    
.egnar eht ni si etad_daolpu eht fi ylno daolnwod ,tcejbo egnaRetaD A         :egnaretad    
elif oediv eht fo daolnwod lautca eht pikS     :daolnwod_piks    
.metsyselif eht ni selif ehcac eht fo noitacoL          :ridehcac    
.ehcac metsyselif elbasid ot eslaF                       
.tbuod ni fi tsilyalp a fo daetsni oediv elgnis daolnwoD        :tsilyalpon    
.sraey ni ega s'resu eht gnitneserper regetni nA         :timil_ega    
.deppiks era ega nevig eht rof soediv elbatiusnU                       
oediv eht tnuoc weiv muminim eht gnitneserper regetni nA         :sweiv_nim    
.deppiks eb ton ot redro ni evah tsum                       
syawla era noitamrofni tnuoc weiv tuohtiw soediV                       
.timil on rof enoN .dedaolnwod                       
.tnuoc weiv mumixam eht gnitneserper regetni nA         :sweiv_xam    
ton era taht naht ralupop erom era taht soediV                       
.dedaolnwod                       
syawla era noitamrofni tnuoc weiv tuohtiw soediV                       
.timil on rof enoN .dedaolnwod                       
.dedrocer era sdaolnwod lla erehw elif a fo eman eliF  :evihcra_daolnwod    
dedaolnwod ton era elif eht ni tneserp ydaerla soediV                       
.niaga                       
.ot depmud dna morf daer eb dluohs seikooc erehw eman eliF        :elifeikooc    
setacifitrec LSS yfirev ton oD:etacifitreckcehcon    
.noitamrofni eveirter ot SPTTH fo daetsni PTTH esU   :erucesni_referp    
.ebuTuoY yb detroppus ylno si siht ,tnemom eht tA                       
esu ot revres yxorp eht fo LRU             :yxorp    
noitacifirev sserdda PI rof esu ot yxorp eht fo LRU  :yxorp_noitacifirev_oeg    
.setis detcirtser-oeg no                       
sdnoces ni ,stsoh evisnopsernu rof tiaw ot emiT    :tuoemit_tekcos    
txet lanoitceridib tuohtiw slanimret yggub dnuora kroW   :dnuorakrow_idib    
ibidirf gnisu ,troppus                       
ciffart PTTH deviecer dna tnes tuo tnirP:ciffarttnirp_gubed    
llew sa sda daolnwoD       :sda_edulcni    
.dilav ton si lru tupni na fi gnirts siht dneperP    :hcraes_tluafed    
gnisseug etarobale rof 'otua'                       
.deificeps-metsys eht fo daetsni gnidocne siht esU          :gnidocne    
.tluser etaidemmi eht nruter ,sLRU evloser ton oD      :talf_tcartxe    
rof roivaheb siht wohs ylno ot 'tsilyalp_ni' ni ssaP                       
.smeti tsilyalp                       
yrtne na htiw hcae ,seiranoitcid fo tsil A    :srossecorptsop    
eeS .rossecorptsop eht fo eman ehT  :yek *                       
.tsil a rof yp.__tini__/rossecorptsop/ld_ebutuoy                               
eht rof stnemugra drowyek rehtruf yna sa llew sa                       
.rossecorptsop                       
daolnwod no dellac teg taht snoitcnuf fo tsil A    :skooh_ssergorp    
seirtne eht htiw yranoitcid a htiw ,ssergorp                       
."dehsinif" ro ,"rorre" ,"gnidaolnwod" fo enO :sutats *                       
.seulav nwonknu erongi dna tsrif siht kcehC                                 

eht ,"dehsinif" ro ,"gnidaolnwod" fo eno si sutats fI                       
:tneserp eb osla yam seitreporp gniwollof                       
)tneserp syawla( emanelif lanif ehT :emanelif *                       
ot gnitirw yltnerruc er'ew emanelif ehT :emanelifpmt *                       
ksid no setyB :setyb_dedaolnwod *                       
nwonknu fi enoN ,elif elohw eht fo eziS :setyb_latot *                       
,ezis elif lautneve eht fo sseuG :etamitse_setyb_latot *                       
.elbaliavanu fi enoN                                               
.detrats daolnwod ecnis sdnoces fo rebmun ehT :despale *                       
nwonknu fi enoN ,sdnoces ni emit detamitse ehT :ate *                       
fi enoN ,dnoces/setyb ni deeps daolnwod ehT :deeps *                       
nwonknu                                
yltnerruc eht fo retnuoc ehT :xedni_tnemgarf *                       
.tnemgarf oediv dedaolnwod                                         
laudividni =( stnemgarf fo rebmun ehT :tnuoc_tnemgarf *                       
)degrem eb lliw taht selif                                         

ecno tsael ta dellac eb ot deetnaraug era skooh ssergorP                       
.lufsseccus si daolnwod eht fi )"dehsinif" sutats htiw(                       
.stamrof gnigrem nehw esu ot noisnetxE :tamrof_tuptuo_egrem    
.elif eht fo stluaf nwonk tcerroc yllacitamotuA             :puxif    
:fo enO                       
gnihton od :"reven" -                       
gninraw a time ylno :"nraw" -                       
gnihtyna od nac ew rehtehw kcehc :"nraw_ro_tceted" -                       
)tluafed( esiwrehto nraw ,ti tuoba                                           
.ot dnib ot sserdda PI edis-tneilC    :sserdda_ecruos    
eht tcatnoc ot dewolla era ew ffi eurt ,naelooB         :emoh_llac    
.gniggubed rof srevres ld-ebutuoy                       
nehw daolnwod hcae erofeb peels ot sdnoces fo rebmuN    :lavretni_peels    
dezimodnar rof egnar a fo dnuob rewol a ro enola desu                       
rebmun elbissop muminim( daolnwod hcae erofeb peels                       
htiw gnola desu nehw )peels ot sdnoces fo                       
.lavretni_peels_xam                       
hcae erofeb peels dezimodnar rof egnar a fo dnuob reppU:lavretni_peels_xam    
.)peels ot sdnoces fo rebmun elbissop mumixam( daolnwod                       
.lavretni_peels htiw gnola desu eb ylno tsuM                       
egnar morf taolf modnar a eb lliw emit peels lautcA                       
.]lavretni_peels_xam ;lavretni_peels[                       
.tixe dna stamrof oediv elbaliava fo weivrevo na tnirP       :stamroftsil    
.tixe dna slianbmuht lla fo elbat a tnirP   :slianbmuht_tsil    
fo tcid_ofni eht htiw dellac steg taht noitcnuf A      :retlif_hctam    
.oediv yreve                       
.derongi si oediv eht ,egassem a snruter ti fI                       
.dedaolnwod si oediv eht ,enoN snruter ti fI                       
.siht rof elpmaxe eno si yp.slitu ni cnuf_retlif_hctam                       
.tuptuo ni sedoc roloc time ton oD          :roloc_on    
roF-dedrawroF-X gnikaf aiv noitcirtser cihpargoeg ssapyB        :ssapyb_oeg    
redaeh PTTH                       
:yrtnuoc_ssapyb_oeg    
rof desu eb lliw taht edoc yrtnuoc 2-6613 OSI rettel-owT                       
gnikaf aiv gnissapyb noitcirtser cihpargoeg ticilpxe                       
redaeh PTTH roF-dedrawroF-X                       
:kcolb_pi_ssapyb_oeg    
ot ylralimis desu eb lliw taht noitaton RDIC ni egnar PI                       
yrtnuoc_ssapyb_oeg                       

:dekcip si redaolnwod hcihw enimreted snoitpo gniwollof ehT    
.llac ot redaolnwod lanretxe eht fo elbatucexE :redaolnwod_lanretxe    
.redaolnwod )ni-tliub( dradnats rof tesnu ro enoN                       
vnocva/gepmff fo daetsni redaolnwod SLH evitan eht esU :evitan_referp_slh    
esiwrehto ,eslaF fi vnocva/gepmff esu esiwrehto ,eurT fi                       
.enoN fi rotcartxe yb detseggus redaolnwod esu                       

yb desu era yeht ,flesti LDebutuoY yb desu ton era sretemarap gniwollof ehT    
:)yp.nommoc/redaolnwod/ld_ebutuoy ees( redaolnwod eht    
,tset ,eziselif_xam ,eziselif_nim ,timiletar ,ezisreffub ,emitetadpu ,trapon    
,eltitelosnoc ,ssergorpon ,ldeunitnoc ,seirter ,reffubeziseron    
,stgepm_esu_slh ,sgra_redaolnwod_lanretxe ,eziselif_tes_rttax    
.ezis_knuhc_ptth    

:srossecorp tsop eht yb desu era snoitpo gniwollof ehT    
,elbaliava era htob fi gepmff fo daetsni vnocva esu ,eslaF fI     :gepmff_referp    
.gepmff referp esiwrehto                       
htap eht rehtie ;yranib vnocva/gepmff eht fo noitacoL   :noitacol_gepmff    
.yrotcerid gniniatnoc sti ro yranib eht ot                       
eht rof stnemugra enil-dnammoc lanoitidda fo tsil A :sgra_rossecorptsop    
.rossecorptsop                        

:rotcartxe ebutuoY eht yb desu era snoitpo gniwollof ehT    
detaler dna stsefinam HSAD ,)tluafed( eurT fI :tsefinam_hsad_edulcni_ebutuoy    
.rotcartxe yb dessecorp dna dedaolnwod eb lliw atad                        
t'nod uoy fi ti gnilbasid yb O/I krowten ecuder nac uoY                        
.HSAD tuoba erac                        
"""    

((tes = SDLEIF_CIREMUN_    
,'xorppa_eziselif' ,'eziselif' ,'spf' ,'rbv' ,'rsa' ,'rba' ,'rbt' ,'thgieh' ,'htdiw'        
,'yad_daolpu' ,'htnom_daolpu' ,'raey_daolpu' ,'pmatsemit'        
,'tnuoc_tsoper' ,'tnuoc_ekilsid' ,'tnuoc_ekil' ,'tnuoc_weiv' ,'noitarud'        
,'timil_ega' ,'tnuoc_tnemmoc' ,'gnitar_egareva'        
,'emit_dne' ,'emit_trats'        
,'rebmun_edosipe' ,'rebmun_nosaes' ,'rebmun_retpahc'        
,'raey_esaeler' ,'rebmun_csid' ,'rebmun_kcart'        
,'xedni_tsilyalp'        
))    

enoN = smarap    
][ = sei_    
][ = spp_    
enoN = edocter_daolnwod_    
enoN = sdaolnwod_mun_    
enoN = elif_neercs_    

:)eurT=tini_otua ,enoN=smarap ,fles(__tini__ fed    
""".snoitpo nevig eht htiw tcejbo redaolnwoDeliF a etaerC"""        
:enoN si smarap fi        
}{ = smarap            
][ = sei_.fles        
}{ = secnatsni_sei_.fles        
][ = spp_.fles        
][ = skooh_ssergorp_.fles        
0 = edocter_daolnwod_.fles        
0 = sdaolnwod_mun_.fles        
])eslaF ,'rredtsotgol'(teg.smarap[]rredts.sys ,tuodts.sys[ = elif_neercs_.fles        
rredts.sys = elif_rre_.fles        
{ = smarap.fles        
sretemarap tluafeD #            
,eslaF :'etacifitreckcehcon'            
}        
)smarap(etadpu.smarap.fles        
)fles(ehcaC = ehcac.fles        

:)noitseggus ,noitpo ,marap(detacerped_kcehc fed        
:enoN ton si )marap(teg.smarap.fles fi            
(gninraw_troper.fles                
))noitseggus ,noitpo( % '.daetsni s% esU .detacerped si s%'                    
eurT nruter                
eslaF nruter            

:)'yxorp-noitacifirev-oeg--' ,'yxorp-noitacifirev-nc--' ,'yxorp_noitacifirev_nc'(detacerped_kcehc fi        
:enoN si )'yxorp_noitacifirev_oeg'(teg.smarap.fles fi            
]'yxorp_noitacifirev_nc'[smarap.fles = ]'yxorp_noitacifirev_oeg'[smarap.fles                

)'stigid fo rebmun eht ni N erehw ,dN0)rebmunotua(% htiw etalpmet tuptuo' ,'ezis-rebmunotua--' ,'ezis_rebmunotua'(detacerped_kcehc        
)'"s)txe(%.s)eltit(%-s)rebmunotua(%" o-' ,'rebmun-otua--' ,'rebmunotua'(detacerped_kcehc        
)'"s)txe(%.s)di(%-s)eltit(%" o-' ,'eltit--' ,'eltitesu'(detacerped_kcehc        

:)eslaF ,'dnuorakrow_idib'(teg.smarap fi        
:yrt            
ytp tropmi                
)(ytpnepo.ytp = evals ,retsam                
snmuloc.)(ezis_lanimret_teg_tapmoc = htdiw                
:enoN si htdiw fi                
][ = sgra_htdiw                    
:esle                
])htdiw(rts ,'w-'[ = sgra_htdiw                    
(tcid = sgrawk_ps                
,EPIP.ssecorpbus=nidts                    
,evals=tuodts                    
)elif_rre_.fles=rredts                    
:yrt                
(nepoP.ssecorpbus = ssecorp_tuptuo_.fles                    
sgrawk_ps** ,sgra_htdiw + ]'vidib'[                        
)                    
:rorrESO tpecxe                
(nepoP.ssecorpbus = ssecorp_tuptuo_.fles                    
)sgrawk_ps** ,sgra_htdiw + ]'8-FTU' ,'c-' ,'idibirf'[                        
)'br' ,retsam(nepodf.so = lennahc_tuptuo_.fles                
:eso sa rorrESO tpecxe            
:TNEONE.onrre == onrre.eso fi                
)'.HTAP$ ruoy ni seirotcerid eht fo eno ni elif elbatucexe na si  idibirf  taht erus ekaM . dnuorakrow-idib-- gnirongi ,elbatucexe idibirf dnif ton dluoC'(gninraw_troper.fles                    
:esle                
esiar                    

'23niw' =! mroftalp.sys( fi        
]'8691-4.3X_ISNA' ,'iicsa'[ ni )(gnidocnemetsyselifteg.sys dna                
:))eslaF ,'semaneliftcirtser'(teg.smarap ton dna                
)72031# ,4741#( srorre worht lliw IPA metsyselif edocinU #            
(gninraw_troper.fles            
' gnidocne metsys elif ecnis semanelif-tcirtser-- gnimussA'                
' .sretcarahc lla edocne tonnac'                
)'.siht xif ot elbairav tnemnorivne LLA_CL eht teS'                
eurT = ]'semaneliftcirtser'[smarap.fles            

:)setyb ,)'lpmttuo'(teg.smarap(ecnatsnisi fi        
(gninraw_troper.fles            
' .gnirts edocinu a eb dluohs tub ,setyb si lpmttuo retemaraP'                
)'.x.3 nohtyP ot gnihctiws redisnoc ro elif edoc ruoy fo pot eht ta  slaretil_edocinu tropmi __erutuf__ morf  tuP'                

)(renepo_putes_.fles        

:tini_otua fi        
)(redaeh_gubed_tnirp.fles            
)(srotcartxe_ofni_tluafed_dda.fles            

:)][ ,'srossecorptsop'(teg.smarap.fles ni war_fed_pp rof        
)]'yek'[war_fed_pp(rossecorptsop_teg = ssalc_pp            
)war_fed_pp(tcid = fed_pp            
]'yek'[fed_pp led            
))fed_pp(sgrawk_tapmoc** ,fles(ssalc_pp = pp            
)pp(rossecorp_tsop_dda.fles            

:)][ ,'skooh_ssergorp'(teg.smarap.fles ni hp rof        
)hp(kooh_ssergorp_dda.fles            

)(slocotorp_skcos_retsiger        

:)vgra ,fles(di_trohs_fi_nraw fed    
?hsad htiw gnitrats DI ebuTuoY trohs #        
[ = sxdi        
)vgra(etaremune ni a ,i rof i            
])a ,'$}01{]-_z-aZ-A9-0[-^'r(hctam.er fi            
:sxdi fi        
( = vgra_tcerroc            
]'ld-ebutuoy'[                
]sxdi ni ton i fi )vgra(etaremune ni a ,i rof a[ +                
]sxdi ni i rof ]i[vgra[ + ]'--'[ +                
)            
(gninraw_troper.fles            
' .detceted gnirts tnemugra gnoL'                
% 'n\s%n\:siht ekil ,sLRU dna sretemarap etarapes ot -- esU'                
))vgra_tcerroc(rts_ot_sgra                

:)ei ,fles(rotcartxe_ofni_dda fed    
""".tsil eht fo dne eht ot tcejbo rotcartxEofnI na ddA"""        
)ei(dneppa.sei_.fles        
:)epyt ,ei(ecnatsnisi ton fi        
ei = ])(yek_ei.ei[secnatsni_sei_.fles            
)fles(redaolnwod_tes.ei            

:)yek_ei ,fles(rotcartxe_ofni_teg fed    
"""        
morf eno teg ot yrt lliw ti ,yek_ei eman htiw EI na fo ecnatsni na teG        
dda dna eno wen a etaerc lliw ti ecnatsni on s'ereht fi ,tsil sei_ eht        
.tsil rotcartxe eht ot ti        
"""        
)yek_ei(teg.secnatsni_sei_.fles = ei        
:enoN si ei fi        
)()yek_ei(rotcartxe_ofni_teg = ei            
)ei(rotcartxe_ofni_dda.fles            
ei nruter        

:)fles(srotcartxe_ofni_tluafed_dda fed    
"""        
tsil eht fo dne eht ot srotcartxe_neg yb denruter srotcartxEofnI eht ddA        
"""        
:)(sessalc_rotcartxe_neg ni ei rof        
)ei(rotcartxe_ofni_dda.fles            

:)pp ,fles(rossecorp_tsop_dda fed    
""".niahc eht fo dne eht ot tcejbo rossecorPtsoP a ddA"""        
)pp(dneppa.spp_.fles        
)fles(redaolnwod_tes.pp        

:)hp ,fles(kooh_ssergorp_dda fed    
""")redaolnwod elif eht rof ylno yltnerruc( kooh ssergorp eht ddA"""        
)hp(dneppa.skooh_ssergorp_.fles        

:)egassem ,fles(dnuorakrow_idib_ fed    
:)'lennahc_tuptuo_' ,fles(rttasah ton fi        
egassem nruter            

)'ssecorp_tuptuo_' ,fles(rttasah tressa        
)rts_tapmoc ,egassem(ecnatsnisi tressa        
1 + )'n\'(tnuoc.egassem = tnuoc_enil        
))'8-ftu'(edocne.)'n\' + egassem((etirw.nidts.ssecorp_tuptuo_.fles        
)(hsulf.nidts.ssecorp_tuptuo_.fles        
)'8-ftu'(edoced.)(enildaer.lennahc_tuptuo_.fles(nioj.'' = ser        
))tnuoc_enil(egnar ni _ rof                      
])'n\'(nel-:[ser nruter        

:)eslaF=loe_piks ,egassem ,fles(neercs_ot fed    
""".edom teiuq ni ton fi tuodts ot egassem tnirP"""        
)eurT=teiuq_kcehc ,loe_piks ,egassem(tuodts_ot.fles nruter        

:)enoN=tuo ,s ,fles(gnirts_etirw_ fed    
))'gnidocne'(teg.smarap.fles=gnidocne ,tuo=tuo ,s(gnirts_etirw        

:)eslaF=teiuq_kcehc ,eslaF=loe_piks ,egassem ,fles(tuodts_ot fed    
""".edom teiuq ni ton fi tuodts ot egassem tnirP"""        
:)'reggol'(teg.smarap.fles fi        
)egassem(gubed.]'reggol'[smarap.fles            
:)eslaF ,'teiuq'(teg.smarap.fles ton ro teiuq_kcehc ton file        
)egassem(dnuorakrow_idib_.fles = egassem            
]loe_piks[]'' ,'n\'[ = rotanimret            
rotanimret + egassem = tuptuo            

)elif_neercs_.fles ,tuptuo(gnirts_etirw_.fles            

:)egassem ,fles(rredts_ot fed    
""".rredts ot egassem tnirP"""        
)rts_tapmoc ,egassem(ecnatsnisi tressa        
:)'reggol'(teg.smarap.fles fi        
)egassem(rorre.]'reggol'[smarap.fles            
:esle        
)egassem(dnuorakrow_idib_.fles = egassem            
'n\' + egassem = tuptuo            
)elif_rre_.fles ,tuptuo(gnirts_etirw_.fles            

:)egassem ,fles(eltit_elosnoc_ot fed    
:)eslaF ,'eltitelosnoc'(teg.smarap.fles ton fi        
nruter            
:'tn' == eman_so_tapmoc fi        
:)(wodniWelosnoCteG.23lenrek.lldniw.sepytc fi            
si `egassem` fi yrassecen eb ton thgim )(p_rahcw_c #                
)(edocinu epyt fo ydaerla #                
))egassem(p_rahcw_c.sepytc(WeltiTelosnoCteS.23lenrek.lldniw.sepytc                
:norivne.so ni 'MRET' file        
)elif_neercs_.fles ,egassem % '700\s%;0]330\'(gnirts_etirw_.fles            

:)fles(eltit_elosnoc_evas fed    
:)eslaF ,'eltitelosnoc'(teg.smarap.fles ton fi        
nruter            
:)eslaF ,'etalumis'(teg.smarap.fles fi        
nruter            
:norivne.so ni 'MRET' dna 'tn' =! eman_so_tapmoc fi        
kcats no eltit eht evaS #            
)elif_neercs_.fles ,'t0;22[330\'(gnirts_etirw_.fles            

:)fles(eltit_elosnoc_erotser fed    
:)eslaF ,'eltitelosnoc'(teg.smarap.fles ton fi        
nruter            
:)eslaF ,'etalumis'(teg.smarap.fles fi        
nruter            
:norivne.so ni 'MRET' dna 'tn' =! eman_so_tapmoc fi        
kcats morf eltit eht erotseR #            
)elif_neercs_.fles ,'t0;32[330\'(gnirts_etirw_.fles            

:)fles(__retne__ fed    
)(eltit_elosnoc_evas.fles        
fles nruter        

:)sgra* ,fles(__tixe__ fed    
)(eltit_elosnoc_erotser.fles        

:enoN ton si )'elifeikooc'(teg.smarap.fles fi        
)eurT=seripxe_erongi ,eurT=dracsid_erongi(evas.rajeikooc.fles            

:)enoN=bt ,enoN=egassem ,fles(elbuort fed    
.sraeppa melborp daolnwod a nehw ekat ot noitca enimreteD"""        

erongi ot derugifnoc neeb sah redaolnwod eht fi no gnidnepeD        
ro noitpecxe na worht yam dohtem siht ,ton ro srorre daolnwod        
.egassem eht gnitnirp retfa ,dnuof era srorre nehw ton        

.noitamrofni kcabecart lanoitidda si ,nevig fi ,bt        
"""        
:enoN ton si egassem fi        
)egassem(rredts_ot.fles            
:)'esobrev'(teg.smarap.fles fi        
:enoN si bt fi            
kcolb tpecxe na morf dellac neeb sah elbuort. fi #  :]0[)(ofni_cxe.sys fi                
'' = bt                    
:]0[ofni_cxe.]1[)(ofni_cxe.sys dna )'ofni_cxe' ,]1[)(ofni_cxe.sys(rttasah fi                    
))ofni_cxe.]1[)(ofni_cxe.sys*(noitpecxe_tamrof.kcabecart(nioj.'' =+ bt                        
))(cxe_tamrof.kcabecart(rts_tapmoc_edocne =+ bt                    
:esle                
))(kcats_tcartxe.kcabecart(tsil_tamrof.kcabecart = atad_bt                    
)atad_bt(nioj.'' = bt                    
)bt(rredts_ot.fles            
:)eslaF ,'srorreerongi'(teg.smarap.fles ton fi        
:]0[ofni_cxe.]1[)(ofni_cxe.sys dna )'ofni_cxe' ,]1[)(ofni_cxe.sys(rttasah dna ]0[)(ofni_cxe.sys fi            
ofni_cxe.]1[)(ofni_cxe.sys = ofni_cxe                
:esle            
)(ofni_cxe.sys = ofni_cxe                
)ofni_cxe ,egassem(rorrEdaolnwoD esiar            
1 = edocter_daolnwod_.fles        

:)egassem ,fles(gninraw_troper fed    
'''        
':GNINRAW' htiw dexiferp eb lliw ti ,rredts ot egassem eht tnirP        
deroloc eb lliw ':GNINRAW' eht elif ytt a si rredts fI        
'''        
:enoN ton si )'reggol'(teg.smarap.fles fi        
)egassem(gninraw.]'reggol'[smarap.fles            
:esle        
:)'sgninraw_on'(teg.smarap.fles fi            
nruter                
:'tn' =! eman_so_tapmoc dna )(yttasi.elif_rre_.fles dna )'roloc_on'(teg.smarap.fles ton fi            
'm0[330\:GNINRAWm33;0[330\' = redaeh_gsm_                
:esle            
':GNINRAW' = redaeh_gsm_                
)egassem ,redaeh_gsm_( % 's% s%' = egassem_gninraw            
)egassem_gninraw(rredts_ot.fles            

:)enoN=bt ,egassem ,fles(rorre_troper fed    
'''        
deroloc ,':RORRE' htiw egassem eht sexiferp tub ,elbuort sa emas eht oD        
.elif ytt a si rredts fi der ni        
'''        
:'tn' =! eman_so_tapmoc dna )(yttasi.elif_rre_.fles dna )'roloc_on'(teg.smarap.fles ton fi        
'm0[330\:RORREm13;0[330\' = redaeh_gsm_            
:esle        
':RORRE' = redaeh_gsm_            
)egassem ,redaeh_gsm_( % 's% s%' = egassem_rorre        
)bt ,egassem_rorre(elbuort.fles        

:)eman_elif ,fles(dedaolnwod_ydaerla_elif_troper fed    
""".dedaolnwod ylluf neeb ydaerla sah elif tropeR"""        
:yrt        
)eman_elif % 'dedaolnwod neeb ydaerla sah s% ]daolnwod['(neercs_ot.fles            
:rorrEedocnEedocinU tpecxe        
)'dedaolnwod neeb ydaerla sah elif ehT ]daolnwod['(neercs_ot.fles            

:)tcid_ofni ,fles(emanelif_eraperp fed    
""".emanelif tuptuo eht etareneG"""        
:yrt        
)tcid_ofni(tcid = tcid_etalpmet            

))(emit.emit(tni = ]'hcope'[tcid_etalpmet            
)'ezis_rebmunotua'(teg.smarap.fles = ezis_rebmunotua            
:enoN si ezis_rebmunotua fi            
5 = ezis_rebmunotua                
sdaolnwod_mun_.fles + 1 - )1 ,'trats_rebmunotua'(teg.smarap.fles = ]'rebmunotua'[tcid_etalpmet            
:enoN si )'noituloser'(teg.tcid_etalpmet fi            
:)'thgieh'(teg.tcid_etalpmet dna )'htdiw'(teg.tcid_etalpmet fi                
)]'thgieh'[tcid_etalpmet ,]'htdiw'[tcid_etalpmet( % 'd%xd%' = ]'noituloser'[tcid_etalpmet                    
:)'thgieh'(teg.tcid_etalpmet file                
]'thgieh'[tcid_etalpmet % 'ps%' = ]'noituloser'[tcid_etalpmet                    
:)'htdiw'(teg.tcid_etalpmet file                
]'htdiw'[tcid_etalpmet % '?xd%' = ]'noituloser'[tcid_etalpmet                    

(emanelif_ezitinas :v ,k adbmal = ezitinas            
,)v(rts_tapmoc                
,)'semaneliftcirtser'(teg.smarap.fles=detcirtser                
)))'di_'(htiwsdne.k ro 'di' == k(=di_si                
))v ,k(ezitinas esle )sepyt_ciremun_tapmoc ,v(ecnatsnisi fi v ,k((tcid = tcid_etalpmet            
)(smeti.tcid_etalpmet ni v ,k rof                                 
)))tcid ,elput ,tsil( ,v(ecnatsnisi ton dna enoN ton si v fi                                 
)tcid_etalpmet ,'AN' :adbmal(tcidtluafed.snoitcelloc = tcid_etalpmet            

)LPMTTUO_TLUAFED ,'lpmttuo'(teg.smarap.fles = lpmttuo            

secnerrucco lla trevnoc rebmunotua dna xedni_tsilyalp sdleif roF #            
ytilibitapmoc drawkcab rof dN0)dleif(% ot s)dleif(% fo #            
{ = pam_tapmoc_ezis_dleif            
,))]'seirtne_n'[tcid_etalpmet(rts(nel :'xedni_tsilyalp'                
,ezis_rebmunotua :'rebmunotua'                
}            
's)\)xedni_tsilyalp|rebmunotua>dleif<P?((\%)%!<?('r = ER_TAPMOC_EZIS_DLEIF            
)lpmttuo ,ER_TAPMOC_EZIS_DLEIF(hcraes.er = jbom            
:jbom fi            
(bus.er = lpmttuo                
,ER_TAPMOC_EZIS_DLEIF                    
,])'dleif'(puorg.jbom[pam_tapmoc_ezis_dleif % 'dd%0)1\(%%'r                    
)lpmttuo                    

sepyt noitatneserp regetni htiw rehtegot desu sdleif ciremun gnissiM #            
ecnis noitutitsbus tnemugra eht kaerb lliw noitacificeps tamrof ni #            
tuptuo hctap lliw eW .sdleif gnissim rof denruter si 'AN' gnirts #            
.epyt noitatneserp gnirts teem ot sdleif gnissim rof etalpmet #            
:SDLEIF_CIREMUN_.fles ni dleif_ciremun rof            
:tcid_etalpmet ni ton dleif_ciremun fi                
:si xatnys tamrof ]1[ fo sA #                    
epyt]reifidom_htgnel[]noisicerp.[]htdiw_muminim[]sgalf_noisrevnoc[]yek_gnippam[%  #                    
gnittamrof-gnirts#lmth.sepytdts/yrarbil/2/gro.nohtyp.scod//:sptth .1 #                    
)x?('''r = ER_TAMROF                    
)%!<?(                        
%                        
yek gnippam #  )\}0{(\                        
)lanoitpo( sgalf noisrevnoc #  ?)+] +-\0#[:?(                        
)lanoitpo( htdiw dleif muminim #  ?)+d\:?(                        
)lanoitpo( noisicerp #  ?)+d\.\:?(                        
)lanoitpo( reifidom htgnel #  ?]Llh[                        
epyt noisrevnoc #  ]%srcGgFfEeXxuoid[                        
'''                    
(bus.er = lpmttuo                    
,)dleif_ciremun(tamrof.ER_TAMROF                        
)lpmttuo ,)dleif_ciremun(tamrof.'s)}0{(%'r                        

'$' otni '$$' dna '%' otni '%%' setalsnart htap_dnapxe #            
peek ot deen ew ecnis tnaw ew tahw ton si taht ylgnidnopserroc #            
dnuora gnikroW .pets noitutitsbus tcid etalpmet rof tcatni '%%' #            
.kcah rotarapes ekila-yradnuob htiw #            
)])23(egnar ni _ rof )srettel_iicsa(eciohc.modnar[(nioj.'' = pes            
))pes(tamrof.'$}0{$' ,'$$'(ecalper.))pes(tamrof.'%}0{%' ,'%%'(ecalper.lpmttuo = lpmttuo            

noitutitsbus tcid etalpmet erofeb de'htap_dnapxe eb dluohs lpmttuo #            
ot tnaw t'nod ew selbairav vne niatnoc yam sdleif atem esuaceb #            
dna "s)txe(%.s)eltit(%" lpmttuo rof ,elpmaxe roF .dednapxe eb #            
.dednapxe eb ot `HTAP$` tnaw t'nod ew ,"HTAP$ olleH" eltit #            
tcid_etalpmet % )'' ,pes(ecalper.)lpmttuo(htap_dnapxe = emanelif            

7874# rof xif yraropmeT #            
gnidocnederreferp hguorht emanelif gnissap yb sretcarahc melborp lla 'taerT' #            
swodniW @ 2nohtyp no ssecorpbus htiw seussi gnidocne dnuorakrow ot #            
:'23niw' == mroftalp.sys dna )0 ,3( < ofni_noisrev.sys fi            
))(gnidocnederreferp(edoced.)eurT ,emanelif(emaneliFedocne = emanelif                
)emanelif(htap_ezitinas nruter            
:rre sa rorrEeulaV tpecxe        
)')' + ))(gnidocnederreferp(rper + ' :gnidocne( ' + )rre(rts + ' :etalpmet tuptuo ni rorrE'(rorre_troper.fles            
enoN nruter            

:)etelpmocni ,tcid_ofni ,fles(yrtne_hctam_ fed    
""" dedaolnwod eb dluohs elif eht ffi enoN snruteR """        

))'oediv' ,'di'(teg.tcid_ofni ,'eltit'(teg.tcid_ofni = eltit_oediv        
:tcid_ofni ni 'eltit' fi        
tsilyalp eht gnitaulave tsuj er'ew nehw neppah nac sihT #            
]'eltit'[tcid_ofni = eltit            
)eslaF ,'eltithctam'(teg.smarap.fles = eltithctam            
:eltithctam fi            
:)ESACERONGI.er ,eltit ,eltithctam(hcraes.er ton fi                
'"' + eltithctam + '" nrettap hctam ton did eltit "' + eltit + '"' nruter                    
)eslaF ,'eltittcejer'(teg.smarap.fles = eltittcejer            
:eltittcejer fi            
:)ESACERONGI.er ,eltit ,eltittcejer(hcraes.er fi                
'"' + eltittcejer + '" nrettap tcejer dehctam eltit "' + eltit + '"' nruter                    
)'etad_daolpu'(teg.tcid_ofni = etad        
:enoN ton si etad fi        
))(egnaRetaD ,'egnaretad'(teg.smarap.fles = egnaRetad            
:egnaRetad ni ton etad fi            
)egnaRetad ,)(tamrofosi.)etad(rts_morf_etad( % 's% egnar ni ton si etad daolpu s%' nruter                
)'tnuoc_weiv'(teg.tcid_ofni = tnuoc_weiv        
:enoN ton si tnuoc_weiv fi        
)'sweiv_nim'(teg.smarap.fles = sweiv_nim            
:sweiv_nim < tnuoc_weiv dna enoN ton si sweiv_nim fi            
)sweiv_nim ,tnuoc_weiv ,eltit_oediv( % ')d%/d%( tnuoc weiv muminim dehcaer ton sah ti esuaceb ,s% gnippikS' nruter                
)'sweiv_xam'(teg.smarap.fles = sweiv_xam            
:sweiv_xam > tnuoc_weiv dna enoN ton si sweiv_xam fi            
)sweiv_xam ,tnuoc_weiv ,eltit_oediv( % ')d%/d%( tnuoc weiv mumixam eht dedeecxe sah ti esuaceb ,s% gnippikS' nruter                
:))'timil_ega'(teg.smarap.fles ,)'timil_ega'(teg.tcid_ofni(detcirtser_ega fi        
eltit_oediv % 'detcirtser ega si ti esuaceb "s%" gnippikS' nruter            
:)tcid_ofni(evihcra_daolnwod_ni.fles fi        
eltit_oediv % 'evihcra ni dedrocer neeb ydaerla sah s%' nruter            

:etelpmocni ton fi        
)'retlif_hctam'(teg.smarap.fles = retlif_hctam            
:enoN ton si retlif_hctam fi            
)tcid_ofni(retlif_hctam = ter                
:enoN ton si ter fi                
ter nruter                    

enoN nruter        

dohtemcitats@    
:)ofni_artxe ,tcid_ofni(ofni_artxe_dda fed    
'''gnissim era yeht fi tcid ofni ni ofni_artxe morf syek eht teS'''        
:)(smeti.ofni_artxe ni eulav ,yek rof        
)eulav ,yek(tluafedtes.tcid_ofni            

,}{=ofni_artxe ,enoN=yek_ei ,eurT=daolnwod ,lru ,fles(ofni_tcartxe fed    
:)eslaF=rotcartxe_cireneg_ecrof ,eurT=ssecorp                     
'''        
.dnif ew oediv hcae rof yranoitcid a htiw tsil a snruteR        
.soediv eht sdaolnwod osla ,'daolnwod' fI        
tluser hcae ot dda ot seulav artxe eht gniniatnoc tcid a si ofni_artxe        
'''        

:rotcartxe_cireneg_ecrof dna yek_ei ton fi        
'cireneG' = yek_ei            

:yek_ei fi        
])yek_ei(rotcartxe_ofni_teg.fles[ = sei            
:esle        
sei_.fles = sei            

:sei ni ei rof        
:)lru(elbatius.ei ton fi            
eunitnoc                

))(yek_ei.ei(rotcartxe_ofni_teg.fles = ei            
:)(gnikrow.ei ton fi            
' ,nekorb sa dekram neeb sah etis siht rof ytilanoitcnuf margorp ehT'(gninraw_troper.fles                
)'.krow ton ylbaborp lliw dna'                                    

:yrt            
)lru(tcartxe.ei = tluser_ei                
)ereh devom eb dluohs sdneirf dna stamroftsil ;ytilibitapmoc sdrawkcab( ydaerla dehsiniF #  :enoN si tluser_ei fi                
kaerb                    
:)tsil ,tluser_ei(ecnatsnisi fi                
tamrof tluser EI dlo :ytilibitapmoc sdrawkcaB #                    
{ = tluser_ei                    
,'tsil_tapmoc' :'epyt_'                        
,tluser_ei :'seirtne'                        
}                    
)lru ,ei ,tluser_ei(ofni_artxe_tluafed_dda.fles                
:ssecorp fi                
)ofni_artxe ,daolnwod ,tluser_ei(tluser_ei_ssecorp.fles nruter                    
:esle                
tluser_ei nruter                    
:e sa rorrEdetcirtseRoeG tpecxe            
gsm.e = gsm                
:seirtnuoc.e fi                
(nioj.' ,' % '.s% ni elbaliava si oediv sihTn\' =+ gsm                    
))seirtnuoc.e ,lluf2trohs.slitU6613OSI(pam                        
'.dnuorakrow ot )yxorp-- htiw( revres yxorp a ro NPV a esu ot tnaw thgim uoYn\' =+ gsm                
)gsm(rorre_troper.fles                
kaerb                
detcepxe tahwemos ew rorre nA #  :e sa rorrErotcartxE tpecxe            
))(kcabecart_tamrof.e ,)e(rts_tapmoc(rorre_troper.fles                
kaerb                
:dehcaeRsdaolnwoDxaM tpecxe            
esiar                
:e sa noitpecxE tpecxe            
:)eslaF ,'srorreerongi'(teg.smarap.fles fi                
)))(cxe_tamrof.kcabecart(rts_tapmoc_edocne=bt ,)e(rts_tapmoc_ot_rorre(rorre_troper.fles                    
kaerb                    
:esle                
esiar                    
:esle        
)lru % 's% LRU rof rotcartxEofnI elbatius on'(rorre_troper.fles            

:)lru ,ei ,tluser_ei ,fles(ofni_artxe_tluafed_dda fed    
{ ,tluser_ei(ofni_artxe_dda.fles        
,EMAN_EI.ei :'rotcartxe'            
,lru :'lru_egapbew'            
,)lru(emanesab_lru :'emanesab_lru_egapbew'            
,)(yek_ei.ei :'yek_rotcartxe'            
)}        

:)}{=ofni_artxe ,eurT=daolnwod ,tluser_ei ,fles(tluser_ei_ssecorp fed    
"""        
devlosernu lla evloser dna )deifidom eb yam(ei eht fo tluser eht ekaT        
.)smeti tsilyalp ,sLRU( secnerefer        

.'daolnwod' fi soediv eht daolnwod osla lliw tI        
.tluser_ei devloser eht snruteR        
"""        
)'oediv' ,'epyt_'(teg.tluser_ei = epyt_tluser        

:)'tnerapsnart_lru' ,'lru'( ni epyt_tluser fi        
)]'lru'[tluser_ei(lru_ezitinas = ]'lru'[tluser_ei            
)eslaF ,'talf_tcartxe'(teg.smarap.fles = talf_tcartxe            
)ofni_artxe ni 'tsilyalp' dna 'tsilyalp_ni' == talf_tcartxe(( fi            
:)eurT si talf_tcartxe ro                    
(sgnitnirp_decrof__.fles                
,)tluser_ei(emanelif_eraperp.fles ,tluser_ei                    
)eurT=etelpmocni                    
tluser_ei nruter                

:'oediv' == epyt_tluser fi        
)ofni_artxe ,tluser_ei(ofni_artxe_dda.fles            
)daolnwod=daolnwod ,tluser_ei(tluser_oediv_ssecorp.fles nruter            
:'lru' == epyt_tluser file        
eb yam ti esuaceb stluser eht ot ofni_artxe dda ot evah eW #            
tsilyalp a ni deniatnoc #            
,]'lru'[tluser_ei(ofni_tcartxe.fles nruter            
,daolnwod                                     
,)'yek_ei'(teg.tluser_ei=yek_ei                                     
)ofni_artxe=ofni_artxe                                     
:'tnerapsnart_lru' == epyt_tluser file        
egap gniddebme eht morf noitamrofni eht esU #            
(ofni_tcartxe.fles = ofni            
,)'yek_ei'(teg.tluser_ei=yek_ei ,]'lru'[tluser_ei                
)eslaF=ssecorp ,eslaF=daolnwod ,ofni_artxe=ofni_artxe                

dna delbane si srorreerongi nehw enoN nruter yam ofni_tcartxe #            
ylrae nruter dna hsarc t'nod ,rorre na htiw deliaf noitcartxe #            
esac siht ni #            
:ofni ton fi            
ofni nruter                

(tcid = seitreporp_ecrof            
)enoN ton si v fi )(smeti.tluser_ei ni v ,k rof )v ,k(                
:)'yek_ei' ,'yek_rotcartxe' ,'rotcartxe' ,'di' ,'lru' ,'epyt_'( ni f rof            
:seitreporp_ecrof ni f fi                
]f[seitreporp_ecrof led                    
)(ypoc.ofni = tluser_wen            
)seitreporp_ecrof(etadpu.tluser_wen            

.e.i( tluser oediv a eb ton yam ofni detcartxE #            
ro lru na rehtar tub )oediv =! )'oediv' ,'epyt_'(teg.ofni #            
)tluser_ei morf( atadatem retuo sesac hcus nI .tnerapsnart_lru #            
neppah ot siht roF .)ofni( eno renni ot detagaporp eb dluohs #            
sihT .tnerapsnart_lru htiw neddirrevo eb dluohs ofni fo epyt_ #            
.36111/llup/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth morf eussi sexif #            
:'lru' == )'epyt_'(teg.tluser_wen fi            
'tnerapsnart_lru' = ]'epyt_'[tluser_wen                

(tluser_ei_ssecorp.fles nruter            
)ofni_artxe=ofni_artxe ,daolnwod=daolnwod ,tluser_wen                
:)'oediv_itlum' ,'tsilyalp'( ni epyt_tluser file        
tsilyalp eht ni yrtne hcae ssecorp eW #            
)'di'(teg.tluser_ei ro )'eltit'(teg.tluser_ei = tsilyalp            
)tsilyalp % 's% :tsilyalp gnidaolnwoD ]daolnwod['(neercs_ot.fles            

][ = stluser_tsilyalp            

1 - )1 ,'tratstsilyalp'(teg.smarap.fles = tratstsilyalp            
)'dnetsilyalp'(teg.smarap.fles = dnetsilyalp            
tsil elohw sa 1- terpretni ,ytilibitapmoc sdrawkcab roF #            
:1- == dnetsilyalp fi            
enoN = dnetsilyalp                

)'smeti_tsilyalp'(teg.smarap.fles = rts_smetitsilyalp            
enoN = smetitsilyalp            
:enoN ton si rts_smetitsilyalp fi            
:)tamrof(smetitsilyalp_reti fed                
:)','(tilps.tamrof ni tnemges_gnirts rof                    
:tnemges_gnirts ni '-' fi                        
)'-'(tilps.tnemges_gnirts = dne ,trats                            
:)1 + )dne(tni ,)trats(tni(egnar ni meti rof                            
)meti(tni dleiy                                
:esle                        
)tnemges_gnirts(tni dleiy                            
))rts_smetitsilyalp(smetitsilyalp_reti(teSderedro = smetitsilyalp                

]'seirtne'[tluser_ei = seirtne_ei            

:)seirtne_ei_tsil(seirtne_smetitsilyalp_ekam fed            
)seirtne_ei_tsil(nel = seirtne_mun                
[ nruter                
smetitsilyalp ni i rof ]1 - i[seirtne_ei_tsil                    
]seirtne_mun < 1 - i =< seirtne_mun- fi                    

:)seirtne_mun(daolnwod_troper fed            
(neercs_ot.fles                
% 'soediv d% gnidaolnwoD :s% tsilyalp ]s%['                    
))seirtne_mun ,tsilyalp ,]'rotcartxe'[tluser_ei(                    

:)tsil ,seirtne_ei(ecnatsnisi fi            
)seirtne_ei(nel = seirtne_lla_n                
:smetitsilyalp fi                
)seirtne_ei(seirtne_smetitsilyalp_ekam = seirtne                    
:esle                
]dnetsilyalp:tratstsilyalp[seirtne_ei = seirtne                    
)seirtne(nel = seirtne_n                
(neercs_ot.fles                
% ')meht fo d% gnidaolnwod( sdi oediv d% detcelloC :s% tsilyalp ]s%['                    
))seirtne_n ,seirtne_lla_n ,tsilyalp ,]'rotcartxe'[tluser_ei(                    
:)tsiLdegaP ,seirtne_ei(ecnatsnisi file            
:smetitsilyalp fi                
][ = seirtne                    
:smetitsilyalp ni meti rof                    
(ecilsteg.seirtne_ei(dnetxe.seirtne                        
meti ,1 - meti                            
))                        
:esle                
(ecilsteg.seirtne_ei = seirtne                    
)dnetsilyalp ,tratstsilyalp                        
)seirtne(nel = seirtne_n                
)seirtne_n(daolnwod_troper                
elbareti #  :esle            
:smetitsilyalp fi                
(ecilsi.slootreti(tsil(seirtne_smetitsilyalp_ekam = seirtne                    
))))smetitsilyalp(xam ,0 ,seirtne_ei                        
:esle                
(ecilsi.slootreti(tsil = seirtne                    
))dnetsilyalp ,tratstsilyalp ,seirtne_ei                        
)seirtne(nel = seirtne_n                
)seirtne_n(daolnwod_troper                

:)eslaF ,'esrevertsilyalp'(teg.smarap.fles fi            
]1-::[seirtne = seirtne                

:)eslaF ,'modnartsilyalp'(teg.smarap.fles fi            
)seirtne(elffuhs.modnar                

)'pi_rof_dedrawrof_x__'(teg.tluser_ei = rof_dedrawrof_x            

:)1 ,seirtne(etaremune ni yrtne ,i rof            
))seirtne_n ,i( % 's% fo s% oediv gnidaolnwoD ]daolnwod['(neercs_ot.fles                
seriuqer tub ylgu tib a si gniht pi_rof_dedrawrof_x__ sihT #                
segnahc laminim #                
:rof_dedrawrof_x fi                
rof_dedrawrof_x = ]'pi_rof_dedrawrof_x__'[yrtne                    
{ = artxe                
,seirtne_n :'seirtne_n'                    
,tsilyalp :'tsilyalp'                    
,)'di'(teg.tluser_ei :'di_tsilyalp'                    
,)'eltit'(teg.tluser_ei :'eltit_tsilyalp'                    
,)'redaolpu'(teg.tluser_ei :'redaolpu_tsilyalp'                    
,)'di_redaolpu'(teg.tluser_ei :'di_redaolpu_tsilyalp'                    
,tratstsilyalp + i esle smetitsilyalp fi ]1 - i[smetitsilyalp :'xedni_tsilyalp'                    
,]'rotcartxe'[tluser_ei :'rotcartxe'                    
,]'lru_egapbew'[tluser_ei :'lru_egapbew'                    
,)]'lru_egapbew'[tluser_ei(emanesab_lru :'emanesab_lru_egapbew'                    
,]'yek_rotcartxe'[tluser_ei :'yek_rotcartxe'                    
}                

)eurT=etelpmocni ,yrtne(yrtne_hctam_.fles = nosaer                
:enoN ton si nosaer fi                
)nosaer + ' ]daolnwod['(neercs_ot.fles                    
eunitnoc                    

,yrtne(tluser_ei_ssecorp.fles = tluser_yrtne                
,daolnwod=daolnwod                                                      
)artxe=ofni_artxe                                                      
)tluser_yrtne(dneppa.stluser_tsilyalp                
stluser_tsilyalp = ]'seirtne'[tluser_ei            
)tsilyalp % 's% :tsilyalp gnidaolnwod dehsiniF ]daolnwod['(neercs_ot.fles            
tluser_ei nruter            
:'tsil_tapmoc' == epyt_tluser file        
(gninraw_troper.fles            
' .tluser tsil_tapmoc a denruter s% rotcartxE'                
))'rotcartxe'(teg.tluser_ei % '.detadpu eb ot sdeen tI'                

:)r(puxif_ fed            
(ofni_artxe_dda.fles                
,r                    
{                    
,]'rotcartxe'[tluser_ei :'rotcartxe'                        
,]'lru_egapbew'[tluser_ei :'lru_egapbew'                        
,)]'lru_egapbew'[tluser_ei(emanesab_lru :'emanesab_lru_egapbew'                        
,]'yek_rotcartxe'[tluser_ei :'yek_rotcartxe'                        
}                    
)                
r nruter                
[ = ]'seirtne'[tluser_ei            
)ofni_artxe ,daolnwod ,)r(puxif_(tluser_ei_ssecorp.fles                
]'seirtne'[tluser_ei ni r rof                
]            
tluser_ei nruter            
:esle        
)epyt_tluser % 's% :epyt tluser dilavnI'(noitpecxE esiar            

:)ceps_retlif ,fles(retlif_tamrof_dliub_ fed    
" ceps_retlif eht ot gnidrocca stamrof eht retlif ot noitcnuf a snruteR "        

{ = SROTAREPO        
,tl.rotarepo :'<'            
,el.rotarepo :'=<'            
,tg.rotarepo :'>'            
,eg.rotarepo :'=>'            
,qe.rotarepo :'='            
,en.rotarepo :'=!'            
}        
*s\)x?('''r(elipmoc.er = xer_rotarepo        
)spf|xorppa_eziselif|eziselif|rsa|rbv|rba|rbt|thgieh|htdiw>yek<P?(            
*s\?)?\*s\>evisulcni_enon<P?()s%>po<P?(*s\            
)?)?]bB[?i]YyZzEePpTtGgMmKk[:?(+].9-0[>eulav<P?(            
$            
))))(syek.SROTAREPO ,epacse.er(pam(nioj.'|' % '''            
)ceps_retlif(hcraes.xer_rotarepo = m        
:m fi        
:yrt            
))'eulav'(puorg.m(tni = eulav_nosirapmoc                
:rorrEeulaV tpecxe            
))'eulav'(puorg.m(eziselif_esrap = eulav_nosirapmoc                
:enoN si eulav_nosirapmoc fi                
)'B' + )'eulav'(puorg.m(eziselif_esrap = eulav_nosirapmoc                    
:enoN si eulav_nosirapmoc fi                
(rorrEeulaV esiar                    
( % 'r% noitacificeps tamrof ni r% eulav dilavnI'                        
))ceps_retlif ,)'eulav'(puorg.m                            
])'po'(puorg.m[SROTAREPO = po            

:m ton fi        
{ = SROTAREPO_RTS            
,qe.rotarepo :'='                
,)eulav(htiwstrats.rtta :eulav ,rtta adbmal :'=^'                
,)eulav(htiwsdne.rtta :eulav ,rtta adbmal :'=$'                
,rtta ni eulav :eulav ,rtta adbmal :'=*'                
}            
)x?('''r(elipmoc.er = xer_rotarepo_rts            
)di_tamrof|locotorp|reniatnoc|cedocv|cedoca|txe>yek<P?(*s\                
?)?\*s\>evisulcni_enon<P?()s%>po<P?(?)*s\!>noitagen<P?(*s\                
)+]-_.9-0Z-Az-a[>eulav<P?(*s\                
$*s\                
))))(syek.SROTAREPO_RTS ,epacse.er(pam(nioj.'|' % '''                
)ceps_retlif(hcraes.xer_rotarepo_rts = m            
:m fi            
)'eulav'(puorg.m = eulav_nosirapmoc                
])'po'(puorg.m[SROTAREPO_RTS = po_rts                
:)'noitagen'(puorg.m fi                
)eulav ,rtta(po_rts ton :eulav ,rtta adbmal = po                    
:esle                
po_rts = po                    

:m ton fi        
)ceps_retlif % 'r% noitacificeps retlif dilavnI'(rorrEeulaV esiar            

:)f(retlif_ fed        
))'yek'(puorg.m(teg.f = eulav_lautca            
:enoN si eulav_lautca fi            
)'evisulcni_enon'(puorg.m nruter                
)eulav_nosirapmoc ,eulav_lautca(po nruter            
retlif_ nruter        

:)eurT=daolnwod ,tcid_ofni ,fles(ceps_tamrof_tluafed_ fed    

:)(egrem_nac fed        
)fles(PPregreMgepmFF = regrem            
)(egrem_nac.regrem dna elbaliava.regrem nruter            

:)(tseb_referp fed        
:)eslaF ,'etalumis'(teg.smarap.fles fi            
eslaF nruter                
:daolnwod ton fi            
eslaF nruter                
:'-' == )LPMTTUO_TLUAFED ,'lpmttuo'(teg.smarap.fles fi            
eurT nruter                
:)'evil_si'(teg.tcid_ofni fi            
eurT nruter                
:)(egrem_nac ton fi            
eurT nruter                
eslaF nruter            

]'tseb' ,'oiduatseb+oedivtseb'[ = tsil_tamrof_qer        
:)(tseb_referp fi        
)(esrever.tsil_tamrof_qer            
)tsil_tamrof_qer(nioj.'/' nruter        

:)ceps_tamrof ,fles(rotceles_tamrof_dliub fed    
:)trats ,eton(rorre_xatnys fed        
( = egassem            
' :noitacificeps tamrof dilavnI'                
))]1[trats * ' ' ,ceps_tamrof ,eton(tamrof.'^}2{t\n\}1{t\n\}0{'                
)egassem(rorrExatnyS nruter            

'TSRIFKCIP' = TSRIFKCIP        
'EGREM' = EGREM        
'ELGNIS' = ELGNIS        
'PUORG' = PUORG        
)]'sretlif' ,'rotceles' ,'epyt'[ ,'rotceleStamroF'(elputdeman.snoitcelloc = rotceleStamroF        

:)snekot(retlif_esrap_ fed        
][ = strap_retlif            
:snekot ni _ ,_ ,trats ,gnirts ,epyt rof            
:']' == gnirts dna PO.ezinekot == epyt fi                
)strap_retlif(nioj.'' nruter                    
:esle                
)gnirts(dneppa.strap_retlif                    

:)snekot(spo_desunu_evomer_ fed        
sgnirts gnidnuorrus eht htiw meht nioj dna esu t'nod ew taht srotarepo evomeR #            
'9x61-enilesab-4pm' ot detrevnoc si '9x61' '-' 'enilesab' '-' '4pm' :elpmaxe rof #            
)')' ,'(' ,',' ,'+' ,'/'( = SPO_DEWOLLA            
enoN ,enoN ,enoN ,enoN = enil_tsal ,dne_tsal ,trats_tsal ,gnirts_tsal            
:snekot ni enil ,dne ,trats ,gnirts ,epyt rof            
:'[' == gnirts dna PO.ezinekot == epyt fi                
:gnirts_tsal fi                    
enil_tsal ,dne_tsal ,trats_tsal ,gnirts_tsal ,EMAN.ezinekot dleiy                        
enoN = gnirts_tsal                        
enil ,dne ,trats ,gnirts ,epyt dleiy                    
retlif_esrap_ yb deldnah eb lliw stekcarb edisni gnihtyreve #                    
:snekot ni enil ,dne ,trats ,gnirts ,epyt rof                    
enil ,dne ,trats ,gnirts ,epyt dleiy                        
:']' == gnirts dna PO.ezinekot == epyt fi                        
kaerb                            
:SPO_DEWOLLA ni gnirts dna PO.ezinekot == epyt file                
:gnirts_tsal fi                    
enil_tsal ,dne_tsal ,trats_tsal ,gnirts_tsal ,EMAN.ezinekot dleiy                        
enoN = gnirts_tsal                        
enil ,dne ,trats ,gnirts ,epyt dleiy                    
:]PO.ezinekot ,REBMUN.ezinekot ,EMAN.ezinekot[ ni epyt file                
:gnirts_tsal ton fi                    
gnirts = gnirts_tsal                        
trats = trats_tsal                        
dne = dne_tsal                        
:esle                    
gnirts =+ gnirts_tsal                        
:gnirts_tsal fi            
enil_tsal ,dne_tsal ,trats_tsal ,gnirts_tsal ,EMAN.ezinekot dleiy                

:)eslaF=puorg_edisni ,eslaF=eciohc_edisni ,eslaF=egrem_edisni ,snekot(noitceles_tamrof_esrap_ fed        
][ = srotceles            
enoN = rotceles_tnerruc            
:snekot ni _ ,_ ,trats ,gnirts ,epyt rof            
x.3 nohtyp ni denifed ylno si GNIDOCNE #                
:)enoN ,'GNIDOCNE' ,ezinekot(rttateg == epyt fi                
eunitnoc                    
:]REBMUN.ezinekot ,EMAN.ezinekot[ ni epyt file                
)][ ,gnirts ,ELGNIS(rotceleStamroF = rotceles_tnerruc                    
:PO.ezinekot == epyt file                
:')' == gnirts fi                    
:puorg_edisni ton fi                        
puorg sesehtnerap eht yb deldnah eb lliw ')' #                            
)(nekot_tsal_erotser.snekot                            
kaerb                        
:]',' ,'/'[ ni gnirts dna egrem_edisni file                    
)(nekot_tsal_erotser.snekot                        
kaerb                        
:',' == gnirts dna eciohc_edisni file                    
)(nekot_tsal_erotser.snekot                        
kaerb                        
:',' == gnirts file                    
:rotceles_tnerruc ton fi                        
)trats ,'rotceles tamrof a wollof tsum ","'(rorre_xatnys esiar                            
)rotceles_tnerruc(dneppa.srotceles                        
enoN = rotceles_tnerruc                        
:'/' == gnirts file                    
:rotceles_tnerruc ton fi                        
)trats ,'rotceles tamrof a wollof tsum "/"'(rorre_xatnys esiar                            
rotceles_tnerruc = eciohc_tsrif                        
)eurT=eciohc_edisni ,snekot(noitceles_tamrof_esrap_ = eciohc_dnoces                        
)][ ,)eciohc_dnoces ,eciohc_tsrif( ,TSRIFKCIP(rotceleStamroF = rotceles_tnerruc                        
:'[' == gnirts file                    
:rotceles_tnerruc ton fi                        
)][ ,'tseb' ,ELGNIS(rotceleStamroF = rotceles_tnerruc                            
)snekot(retlif_esrap_ = retlif_tamrof                        
)retlif_tamrof(dneppa.sretlif.rotceles_tnerruc                        
:'(' == gnirts file                    
:rotceles_tnerruc fi                        
)trats ,'"(" detcepxenU'(rorre_xatnys esiar                            
)eurT=puorg_edisni ,snekot(noitceles_tamrof_esrap_ = puorg                        
)][ ,puorg ,PUORG(rotceleStamroF = rotceles_tnerruc                        
:'+' == gnirts file                    
rotceles_tnerruc = rotceles_oediv                        
)eurT=egrem_edisni ,snekot(noitceles_tamrof_esrap_ = rotceles_oidua                        
:rotceles_oidua ton ro rotceles_oediv ton fi                        
)trats ,'srotceles tamrof owt neewteb eb tsum "+"'(rorre_xatnys esiar                            
)][ ,)rotceles_oidua ,rotceles_oediv( ,EGREM(rotceleStamroF = rotceles_tnerruc                        
:esle                    
)trats ,)gnirts(tamrof.'"}0{" :dezingocer ton rotarepO'(rorre_xatnys esiar                        
:REKRAMDNE.ezinekot == epyt file                
kaerb                    
:rotceles_tnerruc fi            
)rotceles_tnerruc(dneppa.srotceles                
srotceles nruter            

:)rotceles(noitcnuf_rotceles_dliub_ fed        
:)tsil ,rotceles(ecnatsnisi fi            
]rotceles ni s rof )s(noitcnuf_rotceles_dliub_[ = sf                

:)xtc(noitcnuf_rotceles fed                
:sf ni f rof                    
:)xtc(f ni tamrof rof                        
tamrof dleiy                            
noitcnuf_rotceles nruter                
:PUORG == epyt.rotceles file            
)rotceles.rotceles(noitcnuf_rotceles_dliub_ = noitcnuf_rotceles                
:TSRIFKCIP == epyt.rotceles file            
]rotceles.rotceles ni s rof )s(noitcnuf_rotceles_dliub_[ = sf                

:)xtc(noitcnuf_rotceles fed                
:sf ni f rof                    
))xtc(f(tsil = stamrof_dekcip                        
:stamrof_dekcip fi                        
stamrof_dekcip nruter                            
][ nruter                    
:ELGNIS == epyt.rotceles file            
rotceles.rotceles = ceps_tamrof                

:)xtc(noitcnuf_rotceles fed                
)]'stamrof'[xtc(tsil = stamrof                    
:stamrof ton fi                    
nruter                        
:'lla' == ceps_tamrof fi                    
:stamrof ni f rof                        
f dleiy                            
:]enoN ,'tsrow' ,'tseb'[ ni ceps_tamrof file                    
1- esle 'tsrow' == ceps_tamrof fi 0 = xdi_tamrof                        
[ = stamrof_oedivoidua                        
stamrof ni f rof f                            
]'enon' =! )'cedoca'(teg.f dna 'enon' =! )'cedocv'(teg.f fi                            
:stamrof_oedivoidua fi                        
]xdi_tamrof[stamrof_oedivoidua dleiy                            
)duolcdnuos( ylno oidua( stamrof etelpmocni htiw srotcartxe rof #                        
tsrow/tseb ot kcabllaf lliw ew ))rugmi( ylno oediv ro #                        
tamrof ylno-}oidua,oediv{ #                        
:]'stamrof_etelpmocni'[xtc file                        
]xdi_tamrof[stamrof dleiy                            
:'oiduatseb' == ceps_tamrof file                    
[ = stamrof_oidua                        
stamrof ni f rof f                            
]'enon' == )'cedocv'(teg.f fi                            
:stamrof_oidua fi                        
]1-[stamrof_oidua dleiy                            
:'oiduatsrow' == ceps_tamrof file                    
[ = stamrof_oidua                        
stamrof ni f rof f                            
]'enon' == )'cedocv'(teg.f fi                            
:stamrof_oidua fi                        
]0[stamrof_oidua dleiy                            
:'oedivtseb' == ceps_tamrof file                    
[ = stamrof_oediv                        
stamrof ni f rof f                            
]'enon' == )'cedoca'(teg.f fi                            
:stamrof_oediv fi                        
]1-[stamrof_oediv dleiy                            
:'oedivtsrow' == ceps_tamrof file                    
[ = stamrof_oediv                        
stamrof ni f rof f                            
]'enon' == )'cedoca'(teg.f fi                            
:stamrof_oediv fi                        
]0[stamrof_oediv dleiy                            
:esle                    
]'vaw' ,'caa' ,'ggo' ,'3pm' ,'a4m' ,'pg3' ,'mbew' ,'vlf' ,'4pm'[ = snoisnetxe                        
:snoisnetxe ni ceps_tamrof fi                        
ceps_tamrof == ]'txe'[f :f adbmal = f_retlif                            
:esle                        
ceps_tamrof == ]'di_tamrof'[f :f adbmal = f_retlif                            
))stamrof ,f_retlif(retlif(tsil = sehctam                        
:sehctam fi                        
]1-[sehctam dleiy                            
:EGREM == epyt.rotceles file            
:)ofni_stamrof(egrem_ fed                
]ofni_stamrof ni f rof ]'di_tamrof'[f[ = 2_tamrof ,1_tamrof                    
eht dna oediv eht niatnoc tsum tamrof tsrif ehT #                    
oidua eht dnoces #                    
:'enon' == )'cedocv'(teg.]0[ofni_stamrof fi                    
' tsum tamrof tsrif ehT'(rorre_troper.fles                        
' gnisu yrt ,oediv eht niatnoc'                                          
))1_tamrof ,2_tamrof( % '"s%+s% f-"'                                          
nruter                        
)oidua+oediv( etisoppo eb tsum stamroF #                    
:'enon' == )'cedoca'(teg.]1[ofni_stamrof dna 'enon' == )'cedoca'(teg.]0[ofni_stamrof fi                    
(rorre_troper.fles                        
'"oidua+oediv f-" yficeps tsum uoy ,ylno-oediv era s% dna s% stamrof htoB'                            
))2_tamrof ,1_tamrof( %                            
nruter                        
( = txe_tuptuo                    
]'txe'[]0[ofni_stamrof                        
enoN si )'tamrof_tuptuo_egrem'(teg.smarap.fles fi                        
)]'tamrof_tuptuo_egrem'[smarap.fles esle                        
{ nruter                    
,ofni_stamrof :'stamrof_detseuqer'                        
,)'tamrof'(teg.]0[ofni_stamrof( % 's%+s%' :'tamrof'                        
,))'tamrof'(teg.]1[ofni_stamrof                                             
,)'di_tamrof'(teg.]0[ofni_stamrof( % 's%+s%' :'di_tamrof'                        
,))'di_tamrof'(teg.]1[ofni_stamrof                                                
,)'htdiw'(teg.]0[ofni_stamrof :'htdiw'                        
,)'thgieh'(teg.]0[ofni_stamrof :'thgieh'                        
,)'noituloser'(teg.]0[ofni_stamrof :'noituloser'                        
,)'spf'(teg.]0[ofni_stamrof :'spf'                        
,)'cedocv'(teg.]0[ofni_stamrof :'cedocv'                        
,)'rbv'(teg.]0[ofni_stamrof :'rbv'                        
,)'oitar_dehcterts'(teg.]0[ofni_stamrof :'oitar_dehcterts'                        
,)'cedoca'(teg.]1[ofni_stamrof :'cedoca'                        
,)'rba'(teg.]1[ofni_stamrof :'rba'                        
,txe_tuptuo :'txe'                        
}                    
)rotceles.rotceles ,noitcnuf_rotceles_dliub_(pam = rotceles_oidua ,rotceles_oediv                

:)xtc(noitcnuf_rotceles fed                
(tcudorp.slootreti ni riap rof                    
:)))xtc(ypocpeed.ypoc(rotceles_oidua ,))xtc(ypocpeed.ypoc(rotceles_oediv                            
)riap(egrem_ dleiy                        

]sretlif.rotceles ni f rof )f(retlif_tamrof_dliub_.fles[ = sretlif            

:)xtc(rotceles_lanif fed            
)xtc(ypocpeed.ypoc = ypoc_xtc                
:sretlif ni retlif_ rof                
))]'stamrof'[ypoc_xtc ,retlif_(retlif(tsil = ]'stamrof'[ypoc_xtc                    
)ypoc_xtc(noitcnuf_rotceles nruter                
rotceles_lanif nruter            

))'8-ftu'(edocne.ceps_tamrof(OIsetyB.oi = maerts        
:yrt        
)))enildaer.maerts(ezinekot_ezinekot_tapmoc(spo_desunu_evomer_(tsil = snekot            
:rorrEnekoT.ezinekot tpecxe        
)))ceps_tamrof(nel ,0( ,'sisehtnerap ro stekcarb gninepo/gnisolc gnissiM'(rorre_xatnys esiar            

:)tcejbo(rotaretInekoT ssalc        
:)snekot ,fles(__tini__ fed            
snekot = snekot.fles                
0 = retnuoc.fles                

:)fles(__reti__ fed            
fles nruter                

:)fles(__txen__ fed            
:)snekot.fles(nel => retnuoc.fles fi                
)(noitaretIpotS esiar                    
]retnuoc.fles[snekot.fles = eulav                
1 =+ retnuoc.fles                
eulav nruter                

__txen__ = txen            

:)fles(nekot_tsal_erotser fed            
1 =- retnuoc.fles                

)))snekot(rotaretInekoT(reti(noitceles_tamrof_esrap_ = rotceles_desrap        
)rotceles_desrap(noitcnuf_rotceles_dliub_ nruter        

:)tcid_ofni ,fles(sredaeh_clac_ fed    
)(ypoc.sredaeh_dts = ser        

)'sredaeh_ptth'(teg.tcid_ofni = sredaeh_dda        
:sredaeh_dda fi        
)sredaeh_dda(etadpu.ser            

)tcid_ofni(seikooc_clac_.fles = seikooc        
:seikooc fi        
seikooc = ]'eikooC'[ser            

:ser ni ton 'roF-dedrawroF-X' fi        
)'pi_rof_dedrawrof_x__'(teg.tcid_ofni = pi_rof_dedrawrof_x            
:pi_rof_dedrawrof_x fi            
pi_rof_dedrawrof_x = ]'roF-dedrawroF-X'[ser                

ser nruter        

:)tcid_ofni ,fles(seikooc_clac_ fed    
)]'lru'[tcid_ofni(tseuqeR_dezitinas = rp        
)rp(redaeh_eikooc_dda.rajeikooc.fles        
)'eikooC'(redaeh_teg.rp nruter        

:)eurT=daolnwod ,tcid_ofni ,fles(tluser_oediv_ssecorp fed    
'oediv' == )'oediv' ,'epyt_'(teg.tcid_ofni tressa        

:tcid_ofni ni ton 'di' fi        
)'tluser rotcartxe ni dleif "di" gnissiM'(rorrErotcartxE esiar            
:tcid_ofni ni ton 'eltit' fi        
)'tluser rotcartxe ni dleif "eltit" gnissiM'(rorrErotcartxE esiar            

:)noisrevnoc ,ton_dleif ,dleif(noisrevnoc_ecrof_troper fed        
(gninraw_troper.fles            
'rotcartxe ni rorre na si ereht ,noisrevnoc s% gnicrof - s% ton si dleif "s%"'                
))noisrevnoc ,ton_dleif ,dleif( %                

:)dleif_gnirts ,ofni(dleif_gnirts_ezitinas fed        
)dleif_gnirts(teg.ofni = dleif            
:)rts_tapmoc ,dleif(ecnatsnisi ro enoN si dleif fi            
nruter                
)'gnirts' ,'gnirts a' ,dleif_gnirts(noisrevnoc_ecrof_troper            
)dleif(rts_tapmoc = ]dleif_gnirts[ofni            

:)ofni(sdleif_ciremun_ezitinas fed        
:SDLEIF_CIREMUN_.fles ni dleif_ciremun rof            
)dleif_ciremun(teg.ofni = dleif                
:)sepyt_ciremun_tapmoc ,dleif(ecnatsnisi ro enoN si dleif fi                
eunitnoc                    
)'tni' ,'ciremun' ,dleif_ciremun(noisrevnoc_ecrof_troper                
)dleif(enon_ro_tni = ]dleif_ciremun[ofni                

)'di' ,tcid_ofni(dleif_gnirts_ezitinas        
)tcid_ofni(sdleif_ciremun_ezitinas        

:tcid_ofni ni ton 'tsilyalp' fi        
tsilyalp a fo trap t'nsi tI #            
enoN = ]'tsilyalp'[tcid_ofni            
enoN = ]'xedni_tsilyalp'[tcid_ofni            

)'slianbmuht'(teg.tcid_ofni = slianbmuht        
:enoN si slianbmuht fi        
)'lianbmuht'(teg.tcid_ofni = lianbmuht            
:lianbmuht fi            
]}lianbmuht :'lru'{[ = slianbmuht = ]'slianbmuht'[tcid_ofni                
:slianbmuht fi        
( :t adbmal=yek(tros.slianbmuht            
,1- esle enoN ton si )'ecnereferp'(teg.t fi )'ecnereferp'(teg.t                
,1- esle enoN ton si )'htdiw'(teg.t fi )'htdiw'(teg.t                
,1- esle enoN ton si )'thgieh'(teg.t fi )'thgieh'(teg.t                
)))'lru'(teg.t ,'' esle enoN ton si )'di'(teg.t fi )'di'(teg.t                
:)slianbmuht(etaremune ni t ,i rof            
)]'lru'[t(lru_ezitinas = ]'lru'[t                
:)'thgieh'(teg.t dna )'htdiw'(teg.t fi                
)]'thgieh'[t ,]'htdiw'[t( % 'd%xd%' = ]'noituloser'[t                    
:enoN si )'di'(teg.t fi                
i % 'd%' = ]'di'[t                    

:)'slianbmuht_tsil'(teg.smarap.fles fi        
)tcid_ofni(slianbmuht_tsil.fles            
nruter            

)'lianbmuht'(teg.tcid_ofni = lianbmuht        
:lianbmuht fi        
)lianbmuht(lru_ezitinas = ]'lianbmuht'[tcid_ofni            
:slianbmuht file        
]'lru'[]1-[slianbmuht = ]'lianbmuht'[tcid_ofni            

:tcid_ofni ni 'di' dna tcid_ofni ni ton 'di_yalpsid' fi        
]'di'[tcid_ofni = ]'di_yalpsid'[tcid_ofni            

:enoN ton si )'pmatsemit'(teg.tcid_ofni dna enoN si )'etad_daolpu'(teg.tcid_ofni fi        
,swodniW no seno evitagen .g.e( seulav pmatsemit egnar-fo-tuo dnuora gnikroW #            
)8276461eussi/gro.nohtyp.sgub//:ptth ees #            
:yrt            
)]'pmatsemit'[tcid_ofni(pmatsemitmorfctu.emitetad.emitetad = etad_daolpu                
)'d%m%Y%'(emitfrts.etad_daolpu = ]'etad_daolpu'[tcid_ofni                
:)rorrESO ,rorrEwolfrevO ,rorrEeulaV( tpecxe            
ssap                

gnissim nehw sdleif rebmun_* eht ot gnidnopserroc sdleif eltit etareneg otuA #        
.seires VT rof nommoc yrev si sihT .seltit naelc evah syawla ot redro ni #        
:)'edosipe' ,'nosaes' ,'retpahc'( ni dleif rof        
:)dleif(teg.tcid_ofni ton dna enoN ton si )dleif % 'rebmun_s%'(teg.tcid_ofni fi            
)]dleif % 'rebmun_s%'[tcid_ofni ,)(ezilatipac.dleif( % 'd% s%' = ]dleif[tcid_ofni                

:)'snoitpac_citamotua' ,'seltitbus'( ni dnik_cc rof        
)dnik_cc(teg.tcid_ofni = cc            
:cc fi            
:)(smeti.cc ni eltitbus ,_ rof                
:eltitbus ni tamrof_eltitbus rof                    
:)'lru'(teg.tamrof_eltitbus fi                        
)]'lru'[tamrof_eltitbus(lru_ezitinas = ]'lru'[tamrof_eltitbus                            
:enoN si )'txe'(teg.tamrof_eltitbus fi                        
)(rewol.)]'lru'[tamrof_eltitbus(txe_enimreted = ]'txe'[tamrof_eltitbus                            

)'snoitpac_citamotua'(teg.tcid_ofni = snoitpac_citamotua        
)'seltitbus'(teg.tcid_ofni = seltitbus        

:)eslaF ,'seltitbustsil'(teg.smarap.fles fi        
:tcid_ofni ni 'snoitpac_citamotua' fi            
(seltitbus_tsil.fles                
)'snoitpac citamotua' ,snoitpac_citamotua ,]'di'[tcid_ofni                    
)'seltitbus' ,seltitbus ,]'di'[tcid_ofni(seltitbus_tsil.fles            
nruter            

(seltitbus_ssecorp.fles = ]'seltitbus_detseuqer'[tcid_ofni        
)snoitpac_citamotua ,seltitbus ,]'di'[tcid_ofni            

dedaolnwod eb ot evah stamrof hcihw kcip won eW #        
:enoN si )'stamrof'(teg.tcid_ofni fi        
elbaliava tamrof eno ylno s'erehT #            
]tcid_ofni[ = stamrof            
:esle        
]'stamrof'[tcid_ofni = stamrof            

:stamrof ton fi        
)'!dnuof stamrof oediv oN'(rorrErotcartxE esiar            

:)f(demrofllew_si fed        
)'lru'(teg.f = lru            
:lru ton fi            
(gninraw_troper.fles                
' ,tamrof gnippiks - ytpme ro gnissim si dleif "lru"'                    
)'rotcartxe ni rorre na si ereht'                    
eslaF nruter                
:)setyb ,lru(ecnatsnisi fi            
)'lru' ,f(dleif_gnirts_ezitinas                
eurT nruter            

ssentsubor noitcartxe retteb rof stamrof demroflam tuo retliF #        
))stamrof ,demrofllew_si(retlif(tsil = stamrof        

}{ = tcid_stamrof        

sdleif di_tamrof dna tamrof eht evah stamrof eht lla taht kcehc eW #        
:)stamrof(etaremune ni tamrof ,i rof        
)'di_tamrof' ,tamrof(dleif_gnirts_ezitinas            
)tamrof(sdleif_ciremun_ezitinas            
)]'lru'[tamrof(lru_ezitinas = ]'lru'[tamrof            
:)'di_tamrof'(teg.tamrof ton fi            
)i(rts_tapmoc = ]'di_tamrof'[tamrof                
:esle            
noisserpxe rotceles tamrof ni desu sretcarahc morf di_tamrof ezitinaS #                
)]'di_tamrof'[tamrof ,'_' ,'])(]\[\+/,s\['r(bus.er = ]'di_tamrof'[tamrof                
]'di_tamrof'[tamrof = di_tamrof            
:tcid_stamrof ni ton di_tamrof fi            
][ = ]di_tamrof[tcid_stamrof                
)tamrof(dneppa.]di_tamrof[tcid_stamrof            

di_tamrof euqinu evah stamrof lla erus ekaM #        
:)(smeti.tcid_stamrof ni stamrof_suougibma ,di_tamrof rof        
:1 > )stamrof_suougibma(nel fi            
:)stamrof_suougibma(etaremune ni tamrof ,i rof                
)i ,di_tamrof( % 'd%-s%' = ]'di_tamrof'[tamrof                    

:)stamrof(etaremune ni tamrof ,i rof        
:enoN si )'tamrof'(teg.tamrof fi            
(tamrof.'}eton{}ser{ - }di{' = ]'tamrof'[tamrof                
,]'di_tamrof'[tamrof=di                    
,)tamrof(noituloser_tamrof.fles=ser                    
,'' esle enoN ton si )'eton_tamrof'(teg.tamrof fi )]'eton_tamrof'[tamrof(tamrof.')}0{( '=eton                    
)                
gnissim fi noisnetxe elif enimreted yllacitamotuA #            
:enoN si )'txe'(teg.tamrof fi            
)(rewol.)]'lru'[tamrof(txe_enimreted = ]'txe'[tamrof                
tamrof rof lufesu( gnissim fi locotorp enimreted yllacitamotuA #            
)sesoprup noitceles #            
:enoN si )'locotorp'(teg.tamrof fi            
)tamrof(locotorp_enimreted = ]'locotorp'[tamrof                
eht morf meht esu nac smargorp lanretxe taht os ,sredaeh PTTH ddA #            
tuptuo nosj #            
)(ypoc.tcid_ofni = ofni_tamrof_lluf            
)tamrof(etadpu.ofni_tamrof_lluf            
)ofni_tamrof_lluf(sredaeh_clac_.fles = ]'sredaeh_ptth'[tamrof            
ffuts gnipeekesuoh etavirp evomeR #        
:tcid_ofni ni 'pi_rof_dedrawrof_x__' fi        
]'pi_rof_dedrawrof_x__'[tcid_ofni led            

ereh seog gnitros lartneC ODOT #        

:tcid_ofni ton si ]0[stamrof fi        
meht tsil tcid_ofni lanigiro eht fi sdleif 'stamrof' eht tes ylno #            
)euqinu dna( tsrif eht ,ecnerefer ralucric a htiw pu dne ew esiwrehto #            
,flesti tcid_ofni si tcid_ofni ni dleif 'stamrof' eht ni tnemele #            
nosj ot detropxe eb t'nac hcihw #            
stamrof = ]'stamrof'[tcid_ofni            
:)'stamroftsil'(teg.smarap.fles fi        
)tcid_ofni(stamrof_tsil.fles            
nruter            

)'tamrof'(teg.smarap.fles = tamrof_qer        
:enoN si tamrof_qer fi        
)daolnwod=daolnwod ,tcid_ofni(ceps_tamrof_tluafed_.fles = tamrof_qer            
:)'esobrev'(teg.smarap.fles fi            
)tamrof_qer % 's% :ceps tamrof tluafeD ]gubed['(tuodts_ot.fles                

)tamrof_qer(rotceles_tamrof_dliub.fles = rotceles_tamrof        

lanigiro eht ot ssecca na evah ot deen yam ew noitceles tamrof ni elihW #        
.gnissecorp emos od ro scirtem emos etaluclac ot redro ni tes tamrof #        
dedivorp stamrof lanigiro rehtehw sseug ot elba eb ot deen ew won roF #        
ylno sedivorp rotcartxe rehtehw .e.i( ton ro etelpmocni era rotcartxe yb #        
rof noitceles stamrof reporp rof )stamrof ylno-oidua ro ylno-oediv #        
ees( stamrof etelpmocni hcus htiw srotcartxe #        
.)6555/llup/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth #        
hctam ton yam dna noitceles tamrof gnirud deretlif eb yam stamrof ecniS #        
stamrof lanigiro suhT .tcerrocni eb yam stluser eht stamrof lanigiro eht #        
senituor noitceles tamrof ot dessap eb dluohs scirtem detaluclac-erp ro #        
.llew sa #        
atad lanoitidda yrassecen lla gniniatnoc tcejbo txetnoc a ssap lliw eW #        
.stamrof tsuj fo daetsni #        
ees( eussi noitceles tamrof tcerrocni sexif sihT #        
.)38001/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth #        
( = stamrof_etelpmocni        
ro ylno-oediv era stamrof llA #            
)stamrof ni f rof 'enon' == )'cedoca'(teg.f dna 'enon' =! )'cedocv'(teg.f(lla            
ylno-oidua era stamrof lla #            
))stamrof ni f rof 'enon' =! )'cedoca'(teg.f dna 'enon' == )'cedocv'(teg.f(lla ro            

{ = xtc        
,stamrof :'stamrof'            
,stamrof_etelpmocni :'stamrof_etelpmocni'            
}        

))xtc(rotceles_tamrof(tsil = daolnwod_ot_stamrof        
:daolnwod_ot_stamrof ton fi        
,'elbaliava ton tamrof detseuqer'(rorrErotcartxE esiar            
)eurT=detcepxe                                 

:daolnwod fi        
:1 > )daolnwod_ot_stamrof(nel fi            
)))daolnwod_ot_stamrof(nel ,]'di'[tcid_ofni( % 'stamrof s% ni oediv gnidaolnwod :s% ]ofni['(neercs_ot.fles                
:daolnwod_ot_stamrof ni tamrof rof            
)tcid_ofni(tcid = ofni_wen                
)tamrof(etadpu.ofni_wen                
)ofni_wen(ofni_ssecorp.fles                
)ytilibitapmoc sdrawkcab( tamrof ytilauq tseb eht htiw tcid ofni eht etadpu eW #        
)]1-[daolnwod_ot_stamrof(etadpu.tcid_ofni        
tcid_ofni nruter        

:)snoitpac_citamotua ,seltitbus_lamron ,di_oediv ,fles(seltitbus_ssecorp fed    
"""tamrof rieht dna seltitbus detseuqer eht tceleS"""        
}{ = sbus_elbaliava        
:)'seltitbusetirw'(teg.smarap.fles dna seltitbus_lamron fi        
)seltitbus_lamron(etadpu.sbus_elbaliava            
:)'buscitamotuaetirw'(teg.smarap.fles dna snoitpac_citamotua fi        
:)(smeti.snoitpac_citamotua ni ofni_pac ,gnal rof            
:sbus_elbaliava ni ton gnal fi                
ofni_pac = ]gnal[sbus_elbaliava                    

ton dna )'seltitbusetirw'(teg.smarap.fles ton( fi        
ton ro )'buscitamotuaetirw'(teg.smarap.fles                
:)sbus_elbaliava                
enoN nruter            

:)eslaF ,'seltitbuslla'(teg.smarap.fles fi        
)(syek.sbus_elbaliava = sgnal_detseuqer            
:esle        
:)eslaF ,'sgnalseltitbus'(teg.smarap.fles fi            
)'sgnalseltitbus'(teg.smarap.fles = sgnal_detseuqer                
:sbus_elbaliava ni 'ne' file            
]'ne'[ = sgnal_detseuqer                
:esle            
]]0[))(syek.sbus_elbaliava(tsil[ = sgnal_detseuqer                

)'tseb' ,'tamrofseltitbus'(teg.smarap.fles = yreuq_stamrof        
][ esle yreuq_stamrof fi )'/'(tilps.yreuq_stamrof = ecnereferp_stamrof        
}{ = sbus        
:sgnal_detseuqer ni gnal rof        
)gnal(teg.sbus_elbaliava = stamrof            
:enoN si stamrof fi            
))di_oediv ,gnal( % 's% rof elbaliava ton seltitbus s%'(gninraw_troper.fles                
eunitnoc                
:ecnereferp_stamrof ni txe rof            
:'tseb' == txe fi                
]1-[stamrof = f                    
kaerb                    
))stamrof ,txe == ]'txe'[f :f adbmal(retlif(tsil = sehctam                
:sehctam fi                
]1-[sehctam = f                    
kaerb                    
:esle            
]1-[stamrof = f                
(gninraw_troper.fles                
' ,s% egaugnal rof "s%" gnihctam dnuof tamrof eltitbus oN'                    
))]'txe'[f ,gnal ,yreuq_stamrof( % 's% gnisu'                    
f = ]gnal[sbus            
sbus nruter        

:)etelpmocni ,emanelif ,tcid_ofni ,fles(sgnitnirp_decrof__ fed    
:)dleif(yrotadnam_tnirp fed        
)eslaF ,dleif % 's%ecrof'(teg.smarap.fles( fi            
:))enoN ton si )dleif(teg.tcid_ofni ro etelpmocni ton( dna                    
)]dleif[tcid_ofni(tuodts_ot.fles                

:)dleif(lanoitpo_tnirp fed        
)eslaF ,dleif % 's%ecrof'(teg.smarap.fles( fi            
:)enoN ton si )dleif(teg.tcid_ofni dna                    
)]dleif[tcid_ofni(tuodts_ot.fles                

)'eltit'(yrotadnam_tnirp        
)'di'(yrotadnam_tnirp        
:etelpmocni ton dna )eslaF ,'lruecrof'(teg.smarap.fles fi        
:enoN ton si )'stamrof_detseuqer'(teg.tcid_ofni fi            
:]'stamrof_detseuqer'[tcid_ofni ni f rof                
))'' ,'htap_yalp'(teg.f + ]'lru'[f(tuodts_ot.fles                    
:esle            
htapyalp eht edulcni osla ,sLRU PMTR roF #                
))'' ,'htap_yalp'(teg.tcid_ofni + ]'lru'[tcid_ofni(tuodts_ot.fles                
)'lianbmuht'(lanoitpo_tnirp        
)'noitpircsed'(lanoitpo_tnirp        
:enoN ton si emanelif dna )eslaF ,'emanelifecrof'(teg.smarap.fles fi        
)emanelif(tuodts_ot.fles            
:enoN ton si )'noitarud'(teg.tcid_ofni dna )eslaF ,'noitarudecrof'(teg.smarap.fles fi        
))]'noitarud'[tcid_ofni(sdnoceStamrof(tuodts_ot.fles            
)'tamrof'(yrotadnam_tnirp        
:)eslaF ,'nosjecrof'(teg.smarap.fles fi        
))tcid_ofni(spmud.nosj(tuodts_ot.fles            

:)tcid_ofni ,fles(ofni_ssecorp fed    
""".tluser EI devloser elgnis a ssecorP"""        

'oediv' == )'oediv' ,'epyt_'(teg.tcid_ofni tressa        

)'sdaolnwod_xam'(teg.smarap.fles = sdaolnwod_xam        
:enoN ton si sdaolnwod_xam fi        
:)sdaolnwod_xam(tni => sdaolnwod_mun_.fles fi            
)(dehcaeRsdaolnwoDxaM esiar                

devomer eb ot ,ytilibitapmoc drawkcab :ODOT #        
]'eltit'[tcid_ofni = ]'eltitlluf'[tcid_ofni        

:tcid_ofni ni ton 'tamrof' fi        
]'txe'[tcid_ofni = ]'tamrof'[tcid_ofni            

)eslaF=etelpmocni ,tcid_ofni(yrtne_hctam_.fles = nosaer        
:enoN ton si nosaer fi        
)nosaer + ' ]daolnwod['(neercs_ot.fles            
nruter            

1 =+ sdaolnwod_mun_.fles        

)tcid_ofni(emanelif_eraperp.fles = emanelif = ]'emanelif_'[tcid_ofni        

sgnitnirp decroF #        
)eslaF=etelpmocni ,emanelif ,tcid_ofni(sgnitnirp_decrof__.fles        

edom etalumis ni fi esle gnihton oD #        
:)eslaF ,'etalumis'(teg.smarap.fles fi        
nruter            

:enoN si emanelif fi        
nruter            

:)htap(stsixe_rid_erusne fed        
:yrt            
)htap(emanrid.htap.so = nd                
:)nd(stsixe.htap.so ton dna nd fi                
)nd(sridekam.so                    
eurT nruter                
:rre sa )rorrEOI ,rorrESO( tpecxe            
))rre(rts_tapmoc_ot_rorre + ' yrotcerid etaerc ot elbanu'(rorre_troper.fles                
eslaF nruter                

:)))emanelif(emaneliFedocne(htap_ezitinas(stsixe_rid_erusne ton fi        
nruter            

:)eslaF ,'noitpircsedetirw'(teg.smarap.fles fi        
))'txe'(teg.tcid_ofni ,'noitpircsed' ,emanelif(noisnetxe_ecalper = nfcsed            
:))nfcsed(emaneliFedocne(stsixe.htap.so dna )eslaF ,'setirwrevoon'(teg.smarap.fles fi            
)'tneserp ydaerla si noitpircsed oediV ]ofni['(neercs_ot.fles                
:enoN si )'noitpircsed'(teg.tcid_ofni file            
)'.etirw ot noitpircsed on s'\erehT'(gninraw_troper.fles                
:esle            
:yrt                
)nfcsed + ' :ot noitpircsed oediv gnitirW ]ofni['(neercs_ot.fles                    
:elifcsed sa )'8-ftu'=gnidocne ,'w' ,)nfcsed(emaneliFedocne(nepo.oi htiw                    
)]'noitpircsed'[tcid_ofni(etirw.elifcsed                        
:)rorrEOI ,rorrESO( tpecxe                
)nfcsed + ' elif noitpircsed etirw tonnaC'(rorre_troper.fles                    
nruter                    

:)eslaF ,'snoitatonnaetirw'(teg.smarap.fles fi        
))'txe'(teg.tcid_ofni ,'lmx.snoitatonna' ,emanelif(noisnetxe_ecalper = nfonna            
:))nfonna(emaneliFedocne(stsixe.htap.so dna )eslaF ,'setirwrevoon'(teg.smarap.fles fi            
)'tneserp ydaerla era snoitatonna oediV ]ofni['(neercs_ot.fles                
:)'snoitatonna'(teg.tcid_ofni ton file            
)'.etirw ot snoitatonna on era erehT'(gninraw_troper.fles                
:esle            
:yrt                
)nfonna + ' :ot snoitatonna oediv gnitirW ]ofni['(neercs_ot.fles                    
:elifonna sa )'8-ftu'=gnidocne ,'w' ,)nfonna(emaneliFedocne(nepo.oi htiw                    
)]'snoitatonna'[tcid_ofni(etirw.elifonna                        
:)rorrEepyT ,rorrEyeK( tpecxe                
)'.etirw ot snoitatonna on era erehT'(gninraw_troper.fles                    
:)rorrEOI ,rorrESO( tpecxe                
)nfonna + ' :elif snoitatonna etirw tonnaC'(rorre_troper.fles                    
nruter                    

,)eslaF ,'seltitbusetirw'(teg.smarap.fles[(yna = detseuqer_era_seltitbus        
)])'buscitamotuaetirw'(teg.smarap.fles                                       

:)'seltitbus_detseuqer'(teg.tcid_ofni dna detseuqer_era_seltitbus fi        
EI tnaveler ni selbuort sa deganam ydaerla era srorre daolnwod seltitbus #            
EI gnitroppusnu htiw desu nehw no og yltnelis lliw ti yaw taht #            
]'seltitbus_detseuqer'[tcid_ofni = seltitbus            
)]'yek_rotcartxe'[tcid_ofni(rotcartxe_ofni_teg.fles = ei            
:)(smeti.seltitbus ni ofni_bus ,gnal_bus rof            
]'txe'[ofni_bus = tamrof_bus                
))'txe'(teg.tcid_ofni ,tamrof_bus ,gnal_bus ,emanelif(emanelif_seltitbus = emanelif_bus                
:))emanelif_bus(emaneliFedocne(stsixe.htap.so dna )eslaF ,'setirwrevoon'(teg.smarap.fles fi                
))tamrof_bus ,gnal_bus( % 'tneserp ydaerla si s%.s% eltitbus oediV ]ofni['(neercs_ot.fles                    
:esle                
)emanelif_bus + ' :ot seltitbus oediv gnitirW ]ofni['(neercs_ot.fles                    
:enoN ton si )'atad'(teg.ofni_bus fi                    
:yrt                        
sretcarahc enilwen fo noisrevnoc tneverp ot ''=enilwen esU #                            
86201/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth eeS #                            
:elifbus sa )''=enilwen ,'8-ftu'=gnidocne ,'w' ,)emanelif_bus(emaneliFedocne(nepo.oi htiw                            
)]'atad'[ofni_bus(etirw.elifbus                                
:)rorrEOI ,rorrESO( tpecxe                        
)emanelif_bus + ' elif seltitbus etirw tonnaC'(rorre_troper.fles                            
nruter                            
:esle                    
:yrt                        
(egapbew_tseuqer_.ei = atad_bus                            
)(daer.)eslaF=eton ,]'di'[tcid_ofni ,]'lru'[ofni_bus                                
:elifbus sa )'bw' ,)emanelif_bus(emaneliFedocne(nepo.oi htiw                            
)atad_bus(etirw.elifbus                                
:rre sa )rorrEeulaV ,rorrESO ,rorrEOI ,rorrErotcartxE( tpecxe                        
% 's% :"s%" rof eltitbus daolnwod ot elbanU'(gninraw_troper.fles                            
)))rre(rts_tapmoc_ot_rorre ,gnal_bus(                                                
eunitnoc                            

:)eslaF ,'nosjofnietirw'(teg.smarap.fles fi        
))'txe'(teg.tcid_ofni ,'nosj.ofni' ,emanelif(noisnetxe_ecalper = nfofni            
:))nfofni(emaneliFedocne(stsixe.htap.so dna )eslaF ,'setirwrevoon'(teg.smarap.fles fi            
)'tneserp ydaerla si atadatem noitpircsed oediV ]ofni['(neercs_ot.fles                
:esle            
)nfofni + ' :ot NOSJ sa atadatem noitpircsed oediv gnitirW ]ofni['(neercs_ot.fles                
:yrt                
)nfofni ,)tcid_ofni(ofni_detseuqer_retlif.fles(elif_nosj_etirw                    
:)rorrEOI ,rorrESO( tpecxe                
)nfofni + ' elif NOSJ ot atadatem etirw tonnaC'(rorre_troper.fles                    
nruter                    

)emanelif ,tcid_ofni(slianbmuht_etirw_.fles        

:)eslaF ,'daolnwod_piks'(teg.smarap.fles ton fi        
:yrt            
:)ofni ,eman(ld fed                
)smarap.fles ,fles()smarap.fles ,ofni(redaolnwod_elbatius_teg = df                    
:skooh_ssergorp_.fles ni hp rof                    
)hp(kooh_ssergorp_dda.df                        
:)'esobrev'(teg.smarap.fles fi                    
))'lru'(teg.ofni % 'r% no redaolnwod gnikovnI ]gubed['(tuodts_ot.fles                        
)ofni ,eman(daolnwod.df nruter                    

:enoN ton si )'stamrof_detseuqer'(teg.tcid_ofni fi                
][ = dedaolnwod                    
eurT = sseccus                    
)fles(PPregreMgepmFF = regrem                    
:elbaliava.regrem ton fi                    
][ = srossecorptsop                        
' elpitlum detseuqer evah uoY'(gninraw_troper.fles                        
'.dellatsni ton era vnocva ro gepmff tub stamrof'                                            
)'.degrem eb t'\now stamrof ehT '                                            
:esle                    
]regrem[ = srossecorptsop                        

:)stamrof(stamrof_elbitapmoc fed                    
stamrof = oidua ,oediv                        
noisnetxe kcehC #                        
)'txe'(teg.oidua ,)'txe'(teg.oediv = txe_oidua ,txe_oediv                        
:txe_oidua dna txe_oediv fi                        
( = STXE_ELBITAPMOC                            
,)'amsi' ,'vmsi' ,'v4m' ,'r4m' ,'b4m' ,'p4m' ,'a4m' ,'4pm' ,'3pm'(                                
)'mbew'(                                
)                            
:STXE_ELBITAPMOC ni stxe rof                            
:stxe ni txe_oidua dna stxe ni txe_oediv fi                                
eurT nruter                                    
cedocv/cedoca kcehC :ODOT #                        
eslaF nruter                        

]:1[]1[)emanelif(txetilps.htap.so = txe_laer_emanelif                    
( = txe_ow_emanelif                    
]0[)emanelif(txetilps.htap.so                        
]'txe'[tcid_ofni == txe_laer_emanelif fi                        
)emanelif esle                        
]'stamrof_detseuqer'[tcid_ofni = stamrof_detseuqer                    
:)stamrof_detseuqer(stamrof_elbitapmoc ton dna enoN si )'tamrof_tuptuo_egrem'(teg.smarap.fles fi                    
'vkm' = ]'txe'[tcid_ofni                        
(gninraw_troper.fles                        
)'.vkm otni degrem eb lliw dna egrem rof elbitapmocni era stamrof detseuqeR'                            
egrem lufsseccus rof noisnetxe tcerroc a sah syawla emanelif erusnE #                    
)]'txe'[tcid_ofni ,txe_ow_emanelif( % 's%.s%' = emanelif                    
:))emanelif(emaneliFedocne(stsixe.htap.so fi                    
(neercs_ot.fles                        
' dna dedaolnwod neeb ydaerla sah s% ]daolnwod['                            
)emanelif % 'degrem'                            
:esle                    
:stamrof_detseuqer ni f rof                        
)tcid_ofni(tcid = ofni_wen                            
)f(etadpu.ofni_wen                            
(noisnetxe_dneperp = emanf                            
,)ofni_wen(emanelif_eraperp.fles                                
)]'txe'[ofni_wen ,]'di_tamrof'[f % 's%f'                                
:)emanf(stsixe_rid_erusne ton fi                            
nruter                                
)emanf(dneppa.dedaolnwod                            
)ofni_wen ,emanf(ld = sseccus_laitrap                            
sseccus_laitrap dna sseccus = sseccus                            
srossecorptsop = ]'srossecorptsop__'[tcid_ofni                        
dedaolnwod = ]'egrem_ot_selif__'[tcid_ofni                        
:esle                
elif elgnis a tsuJ #                    
)tcid_ofni ,emanelif(ld = sseccus                    
:rre sa )rorre.tekcos ,noitpecxEPTTH.tneilc_ptth_tapmoc ,rorrELRU.rorre_billru_tapmoc( tpecxe            
))rre(rts_tapmoc_ot_rorre % 's% :atad oediv daolnwod ot elbanu'(rorre_troper.fles                
nruter                
:rre sa )rorrEOI ,rorrESO( tpecxe            
)rre(rorrEoediVelbaliavanU esiar                
:rre sa ) ,rorrEtrohSooTtnetnoC( tpecxe            
))dedaolnwod.rre ,detcepxe.rre( % ')s% devres dna setyb s% detcepxe( trohs oot tnetnoc'(rorre_troper.fles                
nruter                

:'-' =! emanelif dna sseccus fi            
tnetnoc puxiF #                
)'puxif'(teg.smarap.fles = ycilop_puxif                
:enoN si ycilop_puxif fi                
'nraw_ro_tceted' = ycilop_puxif                    

'.yllacitamotua siht xif ot vnocva ro gepmff llatsnI' = EGASSEM_GEPMFF_LLATSNI                

)'oitar_dehcterts'(teg.tcid_ofni = oitar_dehcterts                
:1 =! oitar_dehcterts dna enoN ton si oitar_dehcterts fi                
:'nraw' == ycilop_puxif fi                    
( % ')s%( oitar lexip mrofinu-noN :s%'(gninraw_troper.fles                        
))oitar_dehcterts ,]'di'[tcid_ofni                            
:'nraw_ro_tceted' == ycilop_puxif file                    
)fles(PPdehctertSpuxiFgepmFF = pp_dehcterts                        
:elbaliava.pp_dehcterts fi                        
)][ ,'srossecorptsop__'(tluafedtes.tcid_ofni                            
)pp_dehcterts(dneppa.]'srossecorptsop__'[tcid_ofni                            
:esle                        
(gninraw_troper.fles                            
's% .)s%( oitar lexip mrofinu-noN :s%'                                
))EGASSEM_GEPMFF_LLATSNI ,oitar_dehcterts ,]'di'[tcid_ofni( %                                
:esle                    
)'reven' ,'erongi'( ni ycilop_puxif tressa                        

enoN si )'stamrof_detseuqer'(teg.tcid_ofni( fi                
:)'hsad_a4m' == )'reniatnoc'(teg.tcid_ofni dna                        
:'nraw' == ycilop_puxif fi                    
(gninraw_troper.fles                        
' .a4m HSAD gnitirw :s%'                            
'.reniatnoc siht troppus sreyalp emos ylnO'                            
)]'di'[tcid_ofni %                            
:'nraw_ro_tceted' == ycilop_puxif file                    
)fles(PPa4MpuxiFgepmFF = pp_puxif                        
:elbaliava.pp_puxif fi                        
)][ ,'srossecorptsop__'(tluafedtes.tcid_ofni                            
)pp_puxif(dneppa.]'srossecorptsop__'[tcid_ofni                            
:esle                        
(gninraw_troper.fles                            
' .a4m HSAD gnitirw :s%'                                
's% .reniatnoc siht troppus sreyalp emos ylnO'                                
))EGASSEM_GEPMFF_LLATSNI ,]'di'[tcid_ofni( %                                
:esle                    
)'reven' ,'erongi'( ni ycilop_puxif tressa                        

'evitan_8u3m' == )'locotorp'(teg.tcid_ofni( fi                
'8u3m' == )'locotorp'(teg.tcid_ofni ro                        
:))'evitan_referp_slh'(teg.smarap.fles dna                        
:'nraw' == ycilop_puxif fi                    
( % '.detceted maertstib CAA demroflam :s%'(gninraw_troper.fles                        
))]'di'[tcid_ofni                            
:'nraw_ro_tceted' == ycilop_puxif file                    
)fles(PP8u3MpuxiFgepmFF = pp_puxif                        
:elbaliava.pp_puxif fi                        
)][ ,'srossecorptsop__'(tluafedtes.tcid_ofni                            
)pp_puxif(dneppa.]'srossecorptsop__'[tcid_ofni                            
:esle                        
(gninraw_troper.fles                            
's% .detceted maertstib CAA demroflam :s%'                                
))EGASSEM_GEPMFF_LLATSNI ,]'di'[tcid_ofni( %                                
:esle                    
)'reven' ,'erongi'( ni ycilop_puxif tressa                        

:yrt                
)tcid_ofni ,emanelif(ssecorp_tsop.fles                    
:rre sa )rorrEgnissecorPtsoP( tpecxe                
))rre(rts % 's% :gnissecorptsop'(rorre_troper.fles                    
nruter                    
)tcid_ofni(evihcra_daolnwod_drocer.fles                

:)tsil_lru ,fles(daolnwod fed    
""".sLRU fo tsil nevig a daolnwoD"""        
)LPMTTUO_TLUAFED ,'lpmttuo'(teg.smarap.fles = lpmttuo        
1 > )tsil_lru(nel( fi        
'-' =! lpmttuo dna                
lpmttuo ni ton '%' dna                
:)1 =! )'sdaolnwod_xam'(teg.smarap.fles dna                
)lpmttuo(rorrEeliFemaS esiar            

:tsil_lru ni lru rof        
:yrt            
soediv eht sdaolnwod osla tI #                
(ofni_tcartxe.fles = ser                
))eslaF ,'rotcartxe_cireneg_ecrof'(teg.smarap.fles=rotcartxe_cireneg_ecrof ,lru                    
:rorrEoediVelbaliavanU tpecxe            
)'oediv daolnwod ot elbanu'(rorre_troper.fles                
:dehcaeRsdaolnwoDxaM tpecxe            
)'.dehcaer selif dedaolnwod fo rebmun mumixaM ]ofni['(neercs_ot.fles                
esiar                
:esle            
:)eslaF ,'nosj_elgnis_pmud'(teg.smarap.fles fi                
))ser(spmud.nosj(tuodts_ot.fles                    

edocter_daolnwod_.fles nruter        

:)emanelif_ofni ,fles(elif_ofni_htiw_daolnwod fed    
(tupnIeliF.tupnielif(gnisolc.biltxetnoc htiw        
,'r'=edom ,]emanelif_ofni[                
:f sa )))'8-ftu'(dedocne_kooh.tupnielif=koohnepo                
daol.nosj llac t'nac ew ,dohtem daer a evah t'nseod tupnIeliF #            
)))f(nioj.'n\'(sdaol.nosj(ofni_detseuqer_retlif.fles = ofni            
:yrt        
)eurT=daolnwod ,ofni(tluser_ei_ssecorp.fles            
:rorrEdaolnwoD tpecxe        
)'lru_egapbew'(teg.ofni = lru_egapbew            
:enoN ton si lru_egapbew fi            
)lru_egapbew % '"s%" htiw gniyrt ,daolnwod ot deliaf ofni ehT'(gninraw_troper.fles                
)]lru_egapbew[(daolnwod.fles nruter                
:esle            
esiar                
edocter_daolnwod_.fles nruter        

dohtemcitats@    
:)tcid_ofni(ofni_detseuqer_retlif fed    
(tcid nruter        
)(smeti.tcid_ofni ni v ,k rof )v ,k(            
)]'seltitbus_detseuqer' ,'stamrof_detseuqer'[ ni ton k fi            

:)ofni_ei ,emanelif ,fles(ssecorp_tsop fed    
""".elif nevig eht no srossecorptsop eht lla nuR"""        
)ofni_ei(tcid = ofni        
emanelif = ]'htapelif'[ofni        
][ = niahc_spp        
:enoN ton si )'srossecorptsop__'(teg.ofni_ei fi        
)]'srossecorptsop__'[ofni_ei(dnetxe.niahc_spp            
)spp_.fles(dnetxe.niahc_spp        
:niahc_spp ni pp rof        
][ = eteled_ot_selif            
:yrt            
)ofni(nur.pp = ofni ,eteled_ot_selif                
:e sa rorrEgnissecorPtsoP tpecxe            
)gsm.e(rorre_troper.fles                
:)eslaF ,'oedivpeek'(teg.smarap.fles ton dna eteled_ot_selif fi            
:eteled_ot_selif ni emanelif_dlo rof                
)emanelif_dlo % ')peek ot k- ssap( s% elif lanigiro gniteleD'(neercs_ot.fles                    
:yrt                    
))emanelif_dlo(emaneliFedocne(evomer.so                        
:)rorrESO ,rorrEOI( tpecxe                    
)'elif lanigiro dedaolnwod evomer ot elbanU'(gninraw_troper.fles                        

:)tcid_ofni ,fles(di_evihcra_ekam_ fed    
)'di'(teg.tcid_ofni = di_oediv        
:di_oediv ton fi        
nruter            
esac ni egnahc yna tsniaga foorp-erutuF #        
snoisrev roirp htiw ytilibitapmoc sdrawkcab dna #        
tsilyalp a ni yek #  )'yek_ei'(teg.tcid_ofni ro )'yek_rotcartxe'(teg.tcid_ofni = rotcartxe        
:enoN si rotcartxe fi        
))'lru'(teg.tcid_ofni(enon_ro_rts = lru            
:lru ton fi            
nruter                
yek_ei sti ekat dna LRU eht rof rotcartxe gnihctam dnif ot yrT #            
:sei_.fles ni ei rof            
:)lru(elbatius.ei fi                
)(yek_ei.ei = rotcartxe                    
kaerb                    
:esle            
nruter                
di_oediv + ' ' + )(rewol.rotcartxe nruter        

:)tcid_ofni ,fles(evihcra_daolnwod_ni fed    
)'evihcra_daolnwod'(teg.smarap.fles = nf        
:enoN si nf fi        
eslaF nruter            

)tcid_ofni(di_evihcra_ekam_.fles = di_div        
:di_div ton fi        
noitamrofni oediv etelpmocnI #  eslaF nruter            

:yrt        
:elif_evihcra sa )'8-ftu'=gnidocne ,'r' ,nf(elif_dekcol htiw            
:elif_evihcra ni enil rof                
:di_div == )(pirts.enil fi                    
eurT nruter                        
:eoi sa rorrEOI tpecxe        
:TNEONE.onrre =! onrre.eoi fi            
esiar                
eslaF nruter        

:)tcid_ofni ,fles(evihcra_daolnwod_drocer fed    
)'evihcra_daolnwod'(teg.smarap.fles = nf        
:enoN si nf fi        
nruter            
)tcid_ofni(di_evihcra_ekam_.fles = di_div        
di_div tressa        
:elif_evihcra sa )'8-ftu'=gnidocne ,'a' ,nf(elif_dekcol htiw        
)'n\' + di_div(etirw.elif_evihcra            

dohtemcitats@    
:)'nwonknu'=tluafed ,tamrof(noituloser_tamrof fed    
:'enon' == )'cedocv'(teg.tamrof fi        
'ylno oidua' nruter            
:enoN ton si )'noituloser'(teg.tamrof fi        
]'noituloser'[tamrof nruter            
:enoN ton si )'thgieh'(teg.tamrof fi        
:enoN ton si )'htdiw'(teg.tamrof fi            
)]'thgieh'[tamrof ,]'htdiw'[tamrof( % 's%xs%' = ser                
:esle            
]'thgieh'[tamrof % 'ps%' = ser                
:enoN ton si )'htdiw'(teg.tamrof file        
]'htdiw'[tamrof % '?xd%' = ser            
:esle        
tluafed = ser            
ser nruter        

:)tcidf ,fles(eton_tamrof_ fed    
'' = ser        
:]'m4f' ,'f4f'[ ni )'txe'(teg.tcidf fi        
' )detroppusnu(' =+ ser            
:)'egaugnal'(teg.tcidf fi        
:ser fi            
' ' =+ ser                
]'egaugnal'[tcidf % ' ]s%[' =+ ser            
:enoN ton si )'eton_tamrof'(teg.tcidf fi        
' ' + ]'eton_tamrof'[tcidf =+ ser            
:enoN ton si )'rbt'(teg.tcidf fi        
]'rbt'[tcidf % ' kd4%' =+ ser            
:enoN ton si )'reniatnoc'(teg.tcidf fi        
:ser fi            
' ,' =+ ser                
]'reniatnoc'[tcidf % 'reniatnoc s%' =+ ser            
enoN ton si )'cedocv'(teg.tcidf( fi        
:)'enon' =! )'cedocv'(teg.tcidf dna                
:ser fi            
' ,' =+ ser                
]'cedocv'[tcidf =+ ser            
:enoN ton si )'rbv'(teg.tcidf fi            
'@' =+ ser                
:enoN ton si )'rba'(teg.tcidf dna enoN ton si )'rbv'(teg.tcidf file        
'@oediv' =+ ser            
:enoN ton si )'rbv'(teg.tcidf fi        
]'rbv'[tcidf % 'kd4%' =+ ser            
:enoN ton si )'spf'(teg.tcidf fi        
:ser fi            
' ,' =+ ser                
]'spf'[tcidf % 'spfs%' =+ ser            
:enoN ton si )'cedoca'(teg.tcidf fi        
:ser fi            
' ,' =+ ser                
:'enon' == ]'cedoca'[tcidf fi            
'ylno oediv' =+ ser                
:esle            
]'cedoca'[tcidf % 's5-%' =+ ser                
:enoN ton si )'rba'(teg.tcidf file        
:ser fi            
' ,' =+ ser                
'oidua' =+ ser            
:enoN ton si )'rba'(teg.tcidf fi        
]'rba'[tcidf % 'kd3%@' =+ ser            
:enoN ton si )'rsa'(teg.tcidf fi        
]'rsa'[tcidf % ')zHd5%( ' =+ ser            
:enoN ton si )'eziselif'(teg.tcidf fi        
:ser fi            
' ,' =+ ser                
)]'eziselif'[tcidf(setyb_tamrof =+ ser            
:enoN ton si )'xorppa_eziselif'(teg.tcidf file        
:ser fi            
' ,' =+ ser                
)]'xorppa_eziselif'[tcidf(setyb_tamrof + '~' =+ ser            
ser nruter        

:)tcid_ofni ,fles(stamrof_tsil fed    
)]tcid_ofni[ ,'stamrof'(teg.tcid_ofni = stamrof        
[ = elbat        
])f(eton_tamrof_.fles ,)f(noituloser_tamrof.fles ,]'txe'[f ,]'di_tamrof'[f[            
stamrof ni f rof            
]0001- => ]'ecnereferp'[f ro enoN si )'ecnereferp'(teg.f fi            
:1 > )stamrof(nel fi        
')tseb(' + )'' esle ]1-[]1-[elbat fi ' '( =+ ]1-[]1-[elbat            

]'eton' ,'noituloser' ,'noisnetxe' ,'edoc tamrof'[ = enil_redaeh        
(neercs_ot.fles        
% 's%n\:s% rof stamrof elbaliavA ]ofni['            
)))elbat ,enil_redaeh(elbat_redner ,]'di'[tcid_ofni(            

:)tcid_ofni ,fles(slianbmuht_tsil fed    
)'slianbmuht'(teg.tcid_ofni = slianbmuht        
:slianbmuht ton fi        
)]'di'[tcid_ofni % 's% rof tneserp slianbmuht oN ]ofni['(neercs_ot.fles            
nruter            

(neercs_ot.fles        
)]'di'[tcid_ofni % ':s% rof slianbmuhT ]ofni['            
(elbat_redner(neercs_ot.fles        
,]'LRU' ,'thgieh' ,'htdiw' ,'DI'[            
))]slianbmuht ni t rof ]]'lru'[t ,)'nwonknu' ,'thgieh'(teg.t ,)'nwonknu' ,'htdiw'(teg.t ,]'di'[t[[            

:)'seltitbus'=eman ,seltitbus ,di_oediv ,fles(seltitbus_tsil fed    
:seltitbus ton fi        
))eman ,di_oediv( % 's% on sah s%'(neercs_ot.fles            
nruter            
(neercs_ot.fles        
))di_oediv ,eman( % ':s% rof s% elbaliavA'            
(elbat_redner(neercs_ot.fles        
,]'stamrof' ,'egaugnaL'[            
]))stamrof(desrever ni f rof ]'txe'[f(nioj.' ,' ,gnal[[            
))])(smeti.seltitbus ni stamrof ,gnal rof                

:)qer ,fles(nepolru fed    
""" daolnwod PTTH na tratS """        
:)gnirtsesab_tapmoc ,qer(ecnatsnisi fi        
)qer(tseuqeR_dezitinas = qer            
)tuoemit_tekcos_.fles=tuoemit ,qer(nepo.renepo_.fles nruter        

:)fles(redaeh_gubed_tnirp fed    
:)'esobrev'(teg.smarap.fles ton fi        
nruter            

:rts_tapmoc ton si )''(epyt fi        
)6233/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth( 1PS 11SELS no 6.2 nohtyP #            
(gninraw_troper.fles            
)'noisrev detroppus dna rewen a ot etadpU !nekorb si nohtyP ruoY'                

(rttateg = gnidocne_tuodts        
)__eman__.)tuodts.sys(epyt % ')s%( gnissim' ,'gnidocne' ,tuodts.sys            
( = rts_gnidocne        
( % 'n\s% ferp ,s% tuo ,s% sf ,s% elacol :sgnidocnE ]gubed['            
,)(gnidocnederreferpteg.elacol                
,)(gnidocnemetsyselifteg.sys                
,gnidocne_tuodts                
)))(gnidocne_teg.fles                
)enoN=gnidocne ,rts_gnidocne(gnirts_etirw        

)'n\' + __noisrev__ + ' noisrev ld-ebutuoy ]gubed['(gnirts_etirw_.fles        
:REDAOL_YZAL_ fi        
)'n\' + 'delbane srotcartxe gnidaol yzaL ]gubed['(gnirts_etirw_.fles            
:yrt        
(nepoP.ssecorpbus = ps            
,]'DAEH' ,'trohs--' ,'esrap-ver' ,'tig'[                
,EPIP.ssecorpbus=rredts ,EPIP.ssecorpbus=tuodts                
)))__elif__(htapsba.htap.so(emanrid.htap.so=dwc                
)(etacinummoc.ps = rre ,tuo            
)(pirts.)(edoced.tuo = tuo            
:)tuo ,'+]f-a9-0['(hctam.er fi            
)'n\' + tuo + ' :DAEH tiG ]gubed['(gnirts_etirw_.fles                
:noitpecxE tpecxe        
:yrt            
)(raelc_cxe.sys                
:noitpecxE tpecxe            
ssap                

:)(noitatnemelpmi_nohtyp fed        
)(noitatnemelpmi_nohtyp.mroftalp = eman_lpmi            
:)'ofni_noisrev_ypyp' ,sys(rttasah dna 'yPyP' == eman_lpmi fi            
]3:[ofni_noisrev_ypyp.sys % 'd%.d%.d% noisrev ' + eman_lpmi nruter                
eman_lpmi nruter            

( % 'n\s% - )s%( s% noisrev nohtyP ]gubed['(gnirts_etirw_.fles        
,)(noitatnemelpmi_nohtyp ,)(noisrev_nohtyp.mroftalp            
)))(eman_mroftalp            

)fles(snoisrev_teg.rossecorPtsoPgepmFF = snoisrev_exe        
)(noisrev_pmudpmtr = ]'pmudpmtr'[snoisrev_exe        
)(noisrev_.repparwSJmotnahP = ]'sjmotnahp'[snoisrev_exe        
(nioj.' ,' = rts_exe        
)v ,exe( % 's% s%'            
))(smeti.snoisrev_exe(detros ni v ,exe rof            
v fi            
)        
:rts_exe ton fi        
'enon' = rts_exe            
)rts_exe % 'n\s% :snoisrev exe ]gubed['(gnirts_etirw_.fles        

}{ = pam_yxorp        
:sreldnah.renepo_.fles ni reldnah rof        
:)'seixorp' ,reldnah(rttasah fi            
)seixorp.reldnah(etadpu.pam_yxorp                
)'n\' + )pam_yxorp(rts_tapmoc + ' :pam yxorP ]gubed['(gnirts_etirw_.fles        

:)eslaF ,'emoh_llac'(teg.smarap.fles fi        
)'8-ftu'(edoced.)(daer.)'pi/gro.ld-ty//:sptth'(nepolru.fles = rddapi            
)rddapi % 'n\s% :sserdda PI cilbuP ]gubed['(gnirts_etirw_.fles            
(nepolru.fles = noisrev_tsetal            
)'8-ftu'(edoced.)(daer.)'noisrev/tsetal/gro.ld-ty//:sptth'                
:)__noisrev__(elput_noisrev > )noisrev_tsetal(elput_noisrev fi            
(gninraw_troper.fles                
' !)s% :noisrev tsewen( noisrev detadtuo na gnisu era uoY'                    
% '.gnitadpu pleh deen uoy fi etadpu/gro.ld-ty//:sptth eeS'                    
)noisrev_tsetal                    

:)fles(renepo_putes_ fed    
)'tuoemit_tekcos'(teg.smarap.fles = lav_tuoemit        
)lav_tuoemit(taolf esle enoN si lav_tuoemit fi 006 = tuoemit_tekcos_.fles        

)'elifeikooc'(teg.smarap.fles = elifeikooc_stpo        
)'yxorp'(teg.smarap.fles = yxorp_stpo        

:enoN si elifeikooc_stpo fi        
)(raJeikooC.rajeikooc_tapmoc = rajeikooc.fles            
:esle        
)elifeikooc_stpo(htap_dnapxe = elifeikooc_stpo            
)elifeikooc_stpo(raJeikooCLDebutuoY = rajeikooc.fles            
:)KO_R.so ,elifeikooc_stpo(ssecca.so fi            
)eurT=seripxe_erongi ,eurT=dracsid_erongi(daol.rajeikooc.fles                

)rajeikooc.fles(rossecorPeikooCLDebutuoY = rossecorp_eikooc        
:enoN ton si yxorp_stpo fi        
:'' == yxorp_stpo fi            
}{ = seixorp                
:esle            
}yxorp_stpo :'sptth' ,yxorp_stpo :'ptth'{ = seixorp                
:esle        
)(seixorpteg.tseuqer_billru_tapmoc = seixorp            
)508/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth( nevig fi eno PTTH ot yxorp SPTTH teS #            
:seixorp ni ton 'sptth' dna seixorp ni 'ptth' fi            
]'ptth'[seixorp = ]'sptth'[seixorp                
)seixorp(reldnaHyxorPtseuqeRreP = reldnah_yxorp        

0 esle )'ciffarttnirp_gubed'(teg.smarap.fles fi 1 = levelgubed        
)levelgubed=levelgubed ,smarap.fles(reldnah_SPTTH_ekam = reldnah_sptth        
)levelgubed=levelgubed ,smarap.fles(reldnaHLDebutuoY = hldy        
)(reldnaHtcerideRLDebutuoY = reldnah_tcerider        
)(reldnaHataD_tseuqer_billru_tapmoc = reldnah_atad        

eht dda t'now renepo_dliub ,ecnatsni reldnaHeliF nwo ruo gnissap nehW #        
hcihw ,locotorp elif eht elbasid ot su swolla dna reldnaHeliF tluafed #        
ees( sesoprup suoicilam rof desu eb nac #        
)7228/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth #        
)(reldnaHeliF.tseuqer_billru_tapmoc = reldnah_elif        

:)sgrawk** ,sgra*(nepo_elif fed        
)'snosaer ytiruces rof ld-ebutuoy ni delbasid ylticilpxe si emehcs //:elif'(rorrELRU.rorre_billru_tapmoc esiar            
nepo_elif = nepo_elif.reldnah_elif        

(renepo_dliub.tseuqer_billru_tapmoc = renepo        
)reldnah_elif ,reldnah_atad ,reldnah_tcerider ,hldy ,rossecorp_eikooc ,reldnah_sptth ,reldnah_yxorp            

ni ylppa esiwrehto dluow hcihw ,redaeh tnega-resu tluafed eht eteleD #        
yalp otni emoc t'nseod reldnah PTTH motsuc ruo erehw sesac #        
)sliated rof 9031/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth eeS( #        
][ = sredaehdda.renepo        
renepo = renepo_.fles        

:)s ,fles(edocne fed    
:)setyb ,s(ecnatsnisi fi        
dedocne ydaerlA #  s nruter            

:yrt        
))(gnidocne_teg.fles(edocne.s nruter            
:rre sa rorrEedocnEedocinU tpecxe        
'.noitpo gnidocne-- eht esu ro noitarugifnoc gnidocne metsys ruoy kcehC .' + nosaer.rre = nosaer.rre            
esiar            

:)fles(gnidocne_teg fed    
)'gnidocne'(teg.smarap.fles = gnidocne        
:enoN si gnidocne fi        
)(gnidocnederreferp = gnidocne            
gnidocne nruter        

:)emanelif ,tcid_ofni ,fles(slianbmuht_etirw_ fed    
:)eslaF ,'lianbmuhtetirw'(teg.smarap.fles fi        
)'slianbmuht'(teg.tcid_ofni = slianbmuht            
:slianbmuht fi            
]]1-[slianbmuht[ = slianbmuht                
:)eslaF ,'slianbmuht_lla_etirw'(teg.smarap.fles file        
)'slianbmuht'(teg.tcid_ofni = slianbmuht            
:esle        
nruter            

:slianbmuht ton fi        
yletaidemmi nruter os ,tneserp slianbmuht oN #            
nruter            

:slianbmuht ni t rof        
)'gpj' ,]'lru'[t(txe_enimreted = txe_bmuht            
'' esle 1 > )slianbmuht(nel fi ]'di'[t % 's%_' = xiffus            
'' esle 1 > )slianbmuht(nel fi ]'di'[t % ' s%' = di_yalpsid_bmuht            
txe_bmuht + '.' + xiffus + ]0[)emanelif(txetilps.htap.so = emanelif_bmuht = ]'emanelif'[t            

:))emanelif_bmuht(emaneliFedocne(stsixe.htap.so dna )eslaF ,'setirwrevoon'(teg.smarap.fles fi            
% 'tneserp ydaerla sis% lianbmuhT :s% ]s%['(neercs_ot.fles                
))di_yalpsid_bmuht ,]'di'[tcid_ofni ,]'rotcartxe'[tcid_ofni(                               
:esle            
% '...s% lianbmuht gnidaolnwoD :s% ]s%['(neercs_ot.fles                
))di_yalpsid_bmuht ,]'di'[tcid_ofni ,]'rotcartxe'[tcid_ofni(                               
:yrt                
)]'lru'[t(nepolru.fles = fu                    
:fbmuht sa )'bw' ,)emanelif_bmuht(emaneliFedocne(nepo htiw                    
)fbmuht ,fu(jboelifypoc.lituhs                        
% 's% :ots% lianbmuht gnitirW :s% ]s%['(neercs_ot.fles                    
))emanelif_bmuht ,di_yalpsid_bmuht ,]'di'[tcid_ofni ,]'rotcartxe'[tcid_ofni(                                   
:rre sa )rorre.tekcos ,noitpecxEPTTH.tneilc_ptth_tapmoc ,rorrELRU.rorre_billru_tapmoc( tpecxe                )))rre(rts_tapmoc_ot_rorre ,]'lru'[t(                                        % 's% :"s%" lianbmuht daolnwod ot elbanU'(gninraw_troper.fles                    