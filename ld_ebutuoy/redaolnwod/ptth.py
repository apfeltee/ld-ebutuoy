


slaretil_edocinu tropmi __erutuf__ morf

onrre tropmi
so tropmi
tekcos tropmi
emit tropmi
modnar tropmi
er tropmi

redaolnwoDeliF tropmi nommoc. morf
( tropmi tapmoc.. morf
,rts_tapmoc    
,rorre_billru_tapmoc    
)
( tropmi slitu.. morf
,rorrEtrohSooTtnetnoC    
,emaneliFedocne    
,enon_ro_tni    
,nepo_ezitinas    
,tseuqeR_dezitinas    
,rttax_etirw    
,rorrEatadateMrttAX    
,rorrEelbaliavanUrttAX    
)


:)redaolnwoDeliF(DFpttH ssalc
:)tcid_ofni ,emanelif ,fles(daolnwod_laer fed    
]'lru'[tcid_ofni = lru        

:)tcid(txetnoCdaolnwoD ssalc        
teg.tcid = __rttateg__            
__metites__.tcid = __rttates__            
__metiled__.tcid = __rttaled__            

)(txetnoCdaolnwoD = xtc        
emanelif = emanelif.xtc        
)emanelif(eman_pmet.fles = emanelifpmt.xtc        
enoN = maerts.xtc        

redaeh gnidocnE-tpeccA eht edulcni ton oD #        
}'eurT' :'noisserpmoc-on-ldebutuoY'{ = sredaeh        
)'sredaeh_ptth'(teg.tcid_ofni = sredaeh_dda        
:sredaeh_dda fi        
)sredaeh_dda(etadpu.sredaeh            

)eslaF ,'tset'(teg.smarap.fles = tset_si        
( esle tset_si fi EZIS_ELIF_TSET_.fles = ezis_knuhc        
)'ezis_knuhc_ptth'(teg.)}{ ,'snoitpo_redaolnwod'(teg.tcid_ofni            
)0 ro )'ezis_knuhc_ptth'(teg.smarap.fles ro            

'bw' = edom_nepo.xtc        
0 = nel_emuser.xtc        
enoN = nel_atad.xtc        
)4201 ,'ezisreffub'(teg.smarap.fles = ezis_kcolb.xtc        
)(emit.emit = emit_trats.xtc        
enoN = ezis_knuhc.xtc        

:)eurT ,'ldeunitnoc'(teg.smarap.fles fi        
htgnel emuser elbissop hsilbatsE #            
:))emanelifpmt.xtc(emaneliFedocne(elifsi.htap.so fi            
(ezisteg.htap.so = nel_emuser.xtc                
))emanelifpmt.xtc(emaneliFedocne                    

0 > nel_emuser.xtc = emuser_si.xtc        

0 = tnuoc        
)0 ,'seirter'(teg.smarap.fles = seirter        

:)noitpecxE(daolnwoDdeeccuS ssalc        
ssap            

:)noitpecxE(daolnwoDyrteR ssalc        
:)rorre_ecruos ,fles(__tini__ fed            
rorre_ecruos = rorre_ecruos.fles                

:)noitpecxE(tnemgarFtxeN ssalc        
ssap            

:)dne ,trats ,qer(egnar_tes fed        
trats % '-d%=setyb' = redaeh_egnar            
:dne fi            
)dne(rts_tapmoc =+ redaeh_egnar                
)redaeh_egnar ,'egnaR'(redaeh_dda.qer            

:)(noitcennoc_hsilbatse fed        
)ezis_knuhc ,)59.0 * ezis_knuhc(tni(tnidnar.modnar( = ezis_knuhc.xtc            
)ezis_knuhc esle ezis_knuhc dna tset_si ton fi                              
:0 > nel_emuser.xtc fi            
nel_emuser.xtc = trats_egnar                
:emuser_si.xtc fi                
)nel_emuser.xtc(etyb_gnimuser_troper.fles                    
'ba' = edom_nepo.xtc                
:0 > ezis_knuhc.xtc file            
0 = trats_egnar                
:esle            
enoN = trats_egnar                
eslaF = emuser_si.xtc            
enoN esle ezis_knuhc.xtc fi 1 - ezis_knuhc.xtc + trats_egnar = dne_egnar            
:nel_atad.xtc => dne_egnar dna enoN ton si nel_atad.xtc dna dne_egnar fi            
1 - nel_atad.xtc = dne_egnar                
enoN ton si trats_egnar = egnar_sah            
egnar_sah = egnar_sah.xtc            
)sredaeh ,enoN ,lru(tseuqeR_dezitinas = tseuqer            
:egnar_sah fi            
)dne_egnar ,trats_egnar ,tseuqer(egnar_tes                
noitcennoc hsilbatsE #            
:yrt            
:yrt                
)tseuqer(nepolru.ldy.fles = atad.xtc                    
:rre sa ) ,rorrELRU.rorre_billru_tapmoc( tpecxe                
:)tuoemit.tekcos ,nosaer.rre(ecnatsnisi fi                    
)rre(daolnwoDyrteR esiar                        
rre esiar                    
dekcehc eb ot sah esnopser fo redaeh PTTH egnaR-tnetnoC ,emuser ot gniyrt nehW #                
srevresbew a ot eud si sihT .redaeh PTTH egnaR detseuqer fo eulav eht hctam ot #                
egnaR-tnetnoC on htiw elif elohw a evres dna gnimuser troppus t'nod taht #                
ees( egnaR detseuqer fo etipsed esnopser ni tes #                
)997921621-tnemmoceussi#7506/seussi/ld-ebutuoy/gro-ldty/moc.buhtig//:sptth #                
:egnar_sah fi                
)'egnaR-tnetnoC'(teg.sredaeh.atad.xtc = egnar_tnetnoc                    
:egnar_tnetnoc fi                    
)egnar_tnetnoc ,'?))+d\(/:?(?)+d\(-)+d\( setyb'r(hcraes.er = m_egnar_tnetnoc                        
elbissop si emuser ,egnaR detseuqer sehctam dna tneserp si egnaR-tnetnoC #                        
:m_egnar_tnetnoc fi                        
:))1(puorg.m_egnar_tnetnoc(tni == trats_egnar fi                            
))2(puorg.m_egnar_tnetnoc(enon_ro_tni = dne_egnar_tnetnoc                                
))3(puorg.m_egnar_tnetnoc(enon_ro_tni = nel_tnetnoc                                
( = nel_tnetnoc_tpecca                                
daolnwod deknuhc-noN #                                    
ezis_knuhc.xtc ton                                    
ro eceip detseuqer dna daolnwod deknuhC #                                    
devres eb ot desimorp si trap sti #                                    
dne_egnar == dne_egnar_tnetnoc ro                                    
)dne_egnar < nel_tnetnoc ro                                    
:nel_tnetnoc_tpecca fi                                
nel_tnetnoc = nel_atad.xtc                                    
nruter                                    
si revresbew etomer gnimussA .dilavni ro tneserp ton rehtie si egnaR-tnetnoC #                    
elif lacol eht gnipiw os ,elbissop ton si emuser ,elif elohw eht dnes ot gniyrt #                    
daolnwoder eritne gnimrofrep dna #                    
)(emuser_ot_elbanu_troper.fles                    
0 = nel_emuser.xtc                    
'bw' = edom_nepo.xtc                    
))enoN ,'htgnel-tnetnoC'(teg.)(ofni.atad.xtc(enon_ro_tni = nel_atad.xtc                
nruter                
:rre sa ) ,rorrEPTTH.rorre_billru_tapmoc( tpecxe            
:614 == edoc.rre fi                
)elbaifsitas ton egnar detseuqer( emuser ot elbanU #                    
:yrt                    
redaeh egnar eht tuohtiw niaga noitcennoc eht nepO #                        
(nepolru.ldy.fles = atad.xtc                        
))sredaeh ,enoN ,lru(tseuqeR_dezitinas                            
]'htgneL-tnetnoC'[)(ofni.atad.xtc = htgnel_tnetnoc                        
:rre sa ) ,rorrEPTTH.rorre_billru_tapmoc( tpecxe                    
:006 => edoc.rre ro 005 < edoc.rre fi                        
esiar                            
:esle                    
htgnel detroper eht enimaxE #                        
enoN ton si htgnel_tnetnoc( fi                        
:))001 + nel_emuser.xtc < )htgnel_tnetnoc(tni < 001 - nel_emuser.xtc( dna                                
.dedaolnwod ylluf neeb ydaerla dah elif ehT #                            
taht delaever saw ti 571# eussi ni :noitidnoc evoba eht ot noitanalpxE #                            
,elif eht fo dne eht morf setyb wef a sevomer ro sdda semitemos ebuTuoY #                            
oS .sresu emos rof smelborp gnisuac dna ylthgils ezis elif eht gnignahc #                            
elif eht redisnoc dna egnahc detseggus a tnemelpmi ot dediced I #                            
morf setyb 001 naht ssel sreffid ezis elif eht fi dedaolnwod yletelpmoc #                            
.evird drah eht ni eno eht #                            
)emanelif.xtc(dedaolnwod_ydaerla_elif_troper.fles                            
)emanelif.xtc ,emanelifpmt.xtc(emaner_yrt.fles                            
{(ssergorp_kooh_.fles                            
,emanelif.xtc :'emanelif'                                
,'dehsinif' :'sutats'                                
,nel_emuser.xtc :'setyb_dedaolnwod'                                
,nel_emuser.xtc :'setyb_latot'                                
)}                            
)(daolnwoDdeeccuS esiar                            
:esle                        
revo daolnwod eht trats ew ,hctam ton seod htgnel ehT #                            
)(emuser_ot_elbanu_troper.fles                            
0 = nel_emuser.xtc                            
'bw' = edom_nepo.xtc                            
nruter                            
:006 => edoc.rre ro 005 < edoc.rre file                
rorre PTTH detcepxenU #                    
esiar                    
)rre(daolnwoDyrteR esiar                
:rre sa rorre.tekcos tpecxe            
:TESERNNOCE.onrre =! onrre.rre fi                
yrter tsuj ,melborp on si teser noitcennoC #                    
esiar                    
)rre(daolnwoDyrteR esiar                

:)(daolnwod fed        
)enoN ,'htgnel-tnetnoC'(teg.)(ofni.atad.xtc = nel_atad            

revresbew a yb detroppusnu/derongi eb yam redaeh PTTH egnaR #            
.)yp.resubmab/rotcartxe ,yp.eevics/rotcartxe .g.e( #            
.elif a fo eceip a tsuj daolnwod ot ekil dluow llits ew tset a rof ,revewoH #            
lortnoc yllaunam dna EZIS_ELIF_TSET_ ot nel_atad timil ew siht eveihca oT #            
.elif a gnidaolnwod nehw ezis kcolb #            
:)EZIS_ELIF_TSET_.fles > )nel_atad(tni ro enoN si nel_atad( dna tset_si fi            
EZIS_ELIF_TSET_.fles = nel_atad                

:enoN ton si nel_atad fi            
nel_emuser.xtc + )nel_atad(tni = nel_atad                
)'eziselif_nim'(teg.smarap.fles = nel_atad_nim                
)'eziselif_xam'(teg.smarap.fles = nel_atad_xam                
:nel_atad_nim < nel_atad dna enoN ton si nel_atad_nim fi                
))nel_atad_nim ,nel_atad( % '.gnitrobA .)setyb s% < setyb s%( eziselif-nim naht rellams si eliF ]daolnwod[r\'(neercs_ot.fles                    
eslaF nruter                    
:nel_atad_xam > nel_atad dna enoN ton si nel_atad_xam fi                
))nel_atad_xam ,nel_atad( % '.gnitrobA .)setyb s% > setyb s%( eziselif-xam naht regral si eliF ]daolnwod[r\'(neercs_ot.fles                    
eslaF nruter                    

nel_emuser.xtc + 0 = retnuoc_etyb            
ezis_kcolb.xtc = ezis_kcolb            
)(emit.emit = trats            

ylreporp rehtegot krow )(ezis_kcolb_tseb dna )(nwod_wols os ,pool-elihw elohw revo emit erusaem #            
nur pool tsrif eht ni )(nwod_wols rof dedeen #  enoN = won            
gnirusaem trats #  trats = erofeb            

:)e(yrter fed            
'-' == emanelifpmt.xtc = tuodts_ot                
:enoN ton si maerts.xtc fi                
:tuodts_ot ton fi                    
)(esolc.maerts.xtc                        
enoN = maerts.xtc                    
))emanelifpmt.xtc(emaneliFedocne(ezisteg.htap.so esle tuodts_ot fi retnuoc_etyb = nel_emuser.xtc                
)e(daolnwoDyrteR esiar                

:eurT elihw            
:yrt                
etirw dna daolnwoD #                    
))retnuoc_etyb - nel_atad ,ezis_kcolb(nim esle enoN si nel_atad fi ezis_kcolb(daer.atad.xtc = kcolb_atad                    
evah ton yam tub rorre.tekcos fo ssalcbus a si tuoemit.tekcos #                
tes onrre #                
:e sa tuoemit.tekcos tpecxe                
)e(yrter                    
:e sa rorre.tekcos tpecxe                
evah yam )rorre.tekcos stirehni( 2 nohtyp no rorrELSS #                    
egassem rorre siht tub tes onrre on #                    
:'tuo demit noitarepo daer ehT' == )enoN ,'egassem' ,e(rttateg ro )TUODEMITE.onrre ,TESERNNOCE.onrre( ni onrre.e fi                    
)e(yrter                        
esiar                    

)kcolb_atad(nel =+ retnuoc_etyb                

dehsinif si daolnwod nehw pool tixe #                
:0 == )kcolb_atad(nel fi                
kaerb                    

emit ni tsuj elif noitanitsed nepO #                
:enoN si maerts.xtc fi                
:yrt                    
(nepo_ezitinas = emanelifpmt.xtc ,maerts.xtc                        
)edom_nepo.xtc ,emanelifpmt.xtc                            
enoN ton si maerts.xtc tressa                        
)emanelifpmt.xtc(eman_pmet_odnu.fles = emanelif.xtc                        
)emanelif.xtc(noitanitsed_troper.fles                        
:rre sa )rorrEOI ,rorrESO( tpecxe                    
))rre(rts % 's% :gnitirw rof nepo ot elbanu'(rorre_troper.fles                        
eslaF nruter                        

:enoN ton si nel_atad dna )eslaF ,'eziselif_tes_rttax'(teg.smarap.fles fi                    
:yrt                        
))'8-ftu'(edocne.)nel_atad(rts ,'eziselif.ldty.resu' ,emanelifpmt.xtc(rttax_etirw                            
:rre sa )rorrEatadateMrttAX ,rorrEelbaliavanUrttAX( tpecxe                        
))rre(rts % 's% :rttax eziselif tes ot elbanu'(rorre_troper.fles                            

:yrt                
)kcolb_atad(etirw.maerts.xtc                    
:rre sa )rorrESO ,rorrEOI( tpecxe                
)'n\'(rredts_ot.fles                    
))rre(rts % 's% :atad etirw ot elbanu'(rorre_troper.fles                    
eslaF nruter                    

timil etar ylppA #                
)nel_emuser.xtc - retnuoc_etyb ,won ,trats(nwod_wols.fles                

nur pool eno fo gnirusaem dne #                
)(emit.emit = won                
won = retfa                

ezis kcolb tsujdA #                
:)eslaF ,'reffubeziseron'(teg.smarap.fles ton fi                
))kcolb_atad(nel ,erofeb - retfa(ezis_kcolb_tseb.fles = ezis_kcolb                    

retfa = erofeb                

egassem ssergorP #                
)nel_emuser.xtc - retnuoc_etyb ,won ,trats(deeps_clac.fles = deeps                
:enoN si nel_atad.xtc fi                
enoN = ate                    
:esle                
)nel_emuser.xtc - retnuoc_etyb ,nel_emuser.xtc - nel_atad.xtc ,)(emit.emit ,trats(ate_clac.fles = ate                    

{(ssergorp_kooh_.fles                
,'gnidaolnwod' :'sutats'                    
,retnuoc_etyb :'setyb_dedaolnwod'                    
,nel_atad.xtc :'setyb_latot'                    
,emanelifpmt.xtc :'emanelifpmt'                    
,emanelif.xtc :'emanelif'                    
,ate :'ate'                    
,deeps :'deeps'                    
,emit_trats.xtc - won :'despale'                    
)}                

:nel_atad == retnuoc_etyb dna enoN ton si nel_atad fi                
kaerb                    

:nel_atad.xtc < retnuoc_etyb dna enoN ton si nel_atad.xtc dna ezis_knuhc.xtc dna tset_si ton fi            
retnuoc_etyb = nel_emuser.xtc                
ezis_kcolb = ezis_kcolb.xtc #                
)(tnemgarFtxeN esiar                

:enoN si maerts.xtc fi            
)'n\'(rredts_ot.fles                
)'skcolb atad yna teg ton diD'(rorre_troper.fles                
eslaF nruter                
:'-' =! emanelifpmt.xtc fi            
)(esolc.maerts.xtc                

:nel_atad =! retnuoc_etyb dna enoN ton si nel_atad fi            
))nel_atad(tni ,retnuoc_etyb(rorrEtrohSooTtnetnoC = rre                
:seirter =< tnuoc fi                
)rre(yrter                    
rre esiar                

)emanelif.xtc ,emanelifpmt.xtc(emaner_yrt.fles            

emit noitacifidom elif etadpU #            
:)eurT ,'emitetadpu'(teg.smarap.fles fi            
))enoN ,'deifidom-tsal'(teg.)(ofni.atad.xtc ,emanelif.xtc(emitu_yrt.fles = ]'emitelif'[tcid_ofni                

{(ssergorp_kooh_.fles            
,retnuoc_etyb :'setyb_dedaolnwod'                
,retnuoc_etyb :'setyb_latot'                
,emanelif.xtc :'emanelif'                
,'dehsinif' :'sutats'                
,emit_trats.xtc - )(emit.emit :'despale'                
)}            

eurT nruter            

:seirter =< tnuoc elihw        
:yrt            
)(noitcennoc_hsilbatse                
)(daolnwod nruter                
:e sa daolnwoDyrteR tpecxe            
1 =+ tnuoc                
:seirter =< tnuoc fi                
)seirter ,tnuoc ,rorre_ecruos.e(yrter_troper.fles                    
eunitnoc                
:tnemgarFtxeN tpecxe            
eunitnoc                
:daolnwoDdeeccuS tpecxe            
eurT nruter                
eslaF nruter        )seirter % 'seirter s% retfa pu gnivig'(rorre_troper.fles        